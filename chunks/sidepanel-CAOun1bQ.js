var as=Object.defineProperty;var wr=e=>{throw TypeError(e)};var ls=(e,t,n)=>t in e?as(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var q=(e,t,n)=>ls(e,typeof t!="symbol"?t+"":t,n),os=(e,t,n)=>t.has(e)||wr("Cannot "+n);var Ie=(e,t,n)=>(os(e,t,"read from private field"),n?n.call(e):t.get(e)),gt=(e,t,n)=>t.has(e)?wr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();try{}catch(e){console.error("[wxt] Failed to initialize plugins",e)}const mr=!1;var Pt=Array.isArray,cs=Array.prototype.indexOf,Nn=Array.from,Yr=Object.defineProperty,Fe=Object.getOwnPropertyDescriptor,us=Object.getOwnPropertyDescriptors,Kr=Object.prototype,fs=Array.prototype,On=Object.getPrototypeOf,_r=Object.isExtensible;function rt(e){return typeof e=="function"}const te=()=>{};function $n(e){for(var t=0;t<e.length;t++)e[t]()}function hs(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const n=[];for(const r of e)if(n.push(r),n.length===t)break;return n}const xe=2,Xr=4,cn=8,un=16,Oe=32,at=64,qn=128,he=256,Yt=512,ce=1024,Ce=2048,Ke=4096,De=8192,Hn=16384,jn=32768,zt=65536,ds=1<<19,Jr=1<<20,Tn=1<<21,Ve=Symbol("$state"),ei=Symbol("legacy props"),ps=Symbol("");function ti(e){return e===this.v}function ni(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Fn(e){return!ni(e,this.v)}function vs(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function gs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function bs(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ws(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ms(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function _s(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function xs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ks(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let ys=!1;const Vn=1,Un=2,ri=4,Ss=8,Ts=16,As=1,Cs=4,Es=8,Rs=16,Ls=4,Ms=1,Is=2,le=Symbol(),Ps="http://www.w3.org/1999/xhtml",zs="@attach",Bs=[];function wn(e,t=!1){return Zt(e,new Map,"",Bs)}function Zt(e,t,n,r,i=null){if(typeof e=="object"&&e!==null){var s=t.get(e);if(s!==void 0)return s;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(Pt(e)){var o=Array(e.length);t.set(e,o),i!==null&&t.set(i,o);for(var l=0;l<e.length;l+=1){var c=e[l];l in e&&(o[l]=Zt(c,t,n,r))}return o}if(On(e)===Kr){o={},t.set(e,o),i!==null&&t.set(i,o);for(var a in e)o[a]=Zt(e[a],t,n,r);return o}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function")return Zt(e.toJSON(),t,n,r,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function ii(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let oe=null;function xr(e){oe=e}function Le(e,t=!1,n){var r=oe={p:oe,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Gn(()=>{r.d=!0})}function Me(e){const t=oe;if(t!==null){const o=t.e;if(o!==null){var n=D,r=H;t.e=null;try{for(var i=0;i<o.length;i++){var s=o[i];Ee(s.effect),we(s.reaction),ot(s.fn)}}finally{Ee(n),we(r)}}oe=t.p,t.m=!0}return{}}function si(){return!0}function ne(e){if(typeof e!="object"||e===null||Ve in e)return e;const t=On(e);if(t!==Kr&&t!==fs)return e;var n=new Map,r=Pt(e),i=I(0),s=H,o=l=>{var c=H;we(s);var a=l();return we(c),a};return r&&n.set("length",I(e.length)),new Proxy(e,{defineProperty(l,c,a){(!("value"in a)||a.configurable===!1||a.enumerable===!1||a.writable===!1)&&_s();var u=n.get(c);return u===void 0?(u=o(()=>I(a.value)),n.set(c,u)):S(u,o(()=>ne(a.value))),!0},deleteProperty(l,c){var a=n.get(c);if(a===void 0)c in l&&(n.set(c,o(()=>I(le))),mn(i));else{if(r&&typeof c=="string"){var u=n.get("length"),d=Number(c);Number.isInteger(d)&&d<u.v&&S(u,d)}S(a,le),mn(i)}return!0},get(l,c,a){var h;if(c===Ve)return e;var u=n.get(c),d=c in l;if(u===void 0&&(!d||(h=Fe(l,c))!=null&&h.writable)&&(u=o(()=>I(ne(d?l[c]:le))),n.set(c,u)),u!==void 0){var f=v(u);return f===le?void 0:f}return Reflect.get(l,c,a)},getOwnPropertyDescriptor(l,c){var a=Reflect.getOwnPropertyDescriptor(l,c);if(a&&"value"in a){var u=n.get(c);u&&(a.value=v(u))}else if(a===void 0){var d=n.get(c),f=d==null?void 0:d.v;if(d!==void 0&&f!==le)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return a},has(l,c){var f;if(c===Ve)return!0;var a=n.get(c),u=a!==void 0&&a.v!==le||Reflect.has(l,c);if(a!==void 0||D!==null&&(!u||(f=Fe(l,c))!=null&&f.writable)){a===void 0&&(a=o(()=>I(u?ne(l[c]):le)),n.set(c,a));var d=v(a);if(d===le)return!1}return u},set(l,c,a,u){var b;var d=n.get(c),f=c in l;if(r&&c==="length")for(var h=a;h<d.v;h+=1){var p=n.get(h+"");p!==void 0?S(p,le):h in l&&(p=o(()=>I(le)),n.set(h+"",p))}d===void 0?(!f||(b=Fe(l,c))!=null&&b.writable)&&(d=o(()=>I(void 0)),S(d,o(()=>ne(a))),n.set(c,d)):(f=d.v!==le,S(d,o(()=>ne(a))));var g=Reflect.getOwnPropertyDescriptor(l,c);if(g!=null&&g.set&&g.set.call(u,a),!f){if(r&&typeof c=="string"){var w=n.get("length"),m=Number(c);Number.isInteger(m)&&m>=w.v&&S(w,m+1)}mn(i)}return!0},ownKeys(l){v(i);var c=Reflect.ownKeys(l).filter(d=>{var f=n.get(d);return f===void 0||f.v!==le});for(var[a,u]of n)u.v!==le&&!(a in l)&&c.push(a);return c},setPrototypeOf(){xs()}})}function mn(e,t=1){S(e,e.v+t)}function kr(e){try{if(e!==null&&typeof e=="object"&&Ve in e)return e[Ve]}catch{}return e}function Ds(e,t){return Object.is(kr(e),kr(t))}function Bt(e){var t=xe|Ce,n=H!==null&&(H.f&xe)!==0?H:null;return D===null||n!==null&&(n.f&he)!==0?t|=he:D.f|=Jr,{ctx:oe,deps:null,effects:null,equals:ti,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??D}}function X(e){const t=Bt(e);return _i(t),t}function Ns(e){const t=Bt(e);return t.equals=Fn,t}function ai(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ke(t[n])}}function Os(e){for(var t=e.parent;t!==null;){if((t.f&xe)===0)return t;t=t.parent}return null}function li(e){var t,n=D;Ee(Os(e));try{ai(e),t=Si(e)}finally{Ee(n)}return t}function oi(e){var t=li(e);if(e.equals(t)||(e.v=t,e.wv=ki()),!ut){var n=(je||(e.f&he)!==0)&&e.deps!==null?Ke:ce;ye(e,n)}}const St=new Map;function Kt(e,t){var n={f:0,v:e,reactions:null,equals:ti,rv:0,wv:0};return n}function I(e,t){const n=Kt(e);return _i(n),n}function Zn(e,t=!1){const n=Kt(e);return t||(n.equals=Fn),n}function S(e,t,n=!1){H!==null&&!Ae&&si()&&(H.f&(xe|un))!==0&&!(se!=null&&se.includes(e))&&ks();let r=n?ne(t):t;return An(e,r)}function An(e,t){if(!e.equals(t)){var n=e.v;ut?St.set(e,t):St.set(e,n),e.v=t,(e.f&xe)!==0&&((e.f&Ce)!==0&&li(e),ye(e,(e.f&he)===0?ce:Ke)),e.wv=ki(),ci(e,Ce),D!==null&&(D.f&ce)!==0&&(D.f&(Oe|at))===0&&(ge===null?Ks([e]):ge.push(e))}return t}function ci(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i],o=s.f;(o&Ce)===0&&(ye(s,t),(o&(ce|he))!==0&&((o&xe)!==0?ci(s,Ke):dn(s)))}}function $s(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}let qs=!1;var yr,ui,fi,hi;function Hs(){if(yr===void 0){yr=window,ui=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;fi=Fe(t,"firstChild").get,hi=Fe(t,"nextSibling").get,_r(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),_r(n)&&(n.__t=void 0)}}function fn(e=""){return document.createTextNode(e)}function st(e){return fi.call(e)}function hn(e){return hi.call(e)}function y(e,t){return st(e)}function We(e,t){{var n=st(e);return n instanceof Comment&&n.data===""?hn(n):n}}function L(e,t=1,n=!1){let r=e;for(;t--;)r=hn(r);return r}function js(e){e.textContent=""}function Fs(e){D===null&&H===null&&bs(),H!==null&&(H.f&he)!==0&&D===null&&gs(),ut&&vs()}function Vs(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function lt(e,t,n,r=!0){var i=D,s={ctx:oe,deps:null,nodes_start:null,nodes_end:null,f:e|Ce,first:null,fn:t,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(n)try{Yn(s),s.f|=jn}catch(c){throw ke(s),c}else t!==null&&dn(s);var o=n&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(Jr|qn))===0;if(!o&&r&&(i!==null&&Vs(s,i),H!==null&&(H.f&xe)!==0)){var l=H;(l.effects??(l.effects=[])).push(s)}return s}function Gn(e){const t=lt(cn,null,!1);return ye(t,ce),t.teardown=e,t}function xt(e){Fs();var t=D!==null&&(D.f&Oe)!==0&&oe!==null&&!oe.m;if(t){var n=oe;(n.e??(n.e=[])).push({fn:e,effect:D,reaction:H})}else{var r=ot(e);return r}}function Us(e){const t=lt(at,e,!0);return(n={})=>new Promise(r=>{n.outro?Tt(t,()=>{ke(t),r(void 0)}):(ke(t),r(void 0))})}function ot(e){return lt(Xr,e,!1)}function Qn(e){return lt(cn,e,!0)}function Q(e,t=[],n=Bt){const r=t.map(n);return ct(()=>e(...r.map(v)))}function ct(e,t=0){return lt(cn|un|t,e,!0)}function Ue(e,t=!0){return lt(cn|Oe,e,!0,t)}function di(e){var t=e.teardown;if(t!==null){const n=ut,r=H;Sr(!0),we(null);try{t.call(null)}finally{Sr(n),we(r)}}}function pi(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&at)!==0?n.parent=null:ke(n,t),n=r}}function Zs(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Oe)===0&&ke(t),t=n}}function ke(e,t=!0){var n=!1;(t||(e.f&ds)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Gs(e.nodes_start,e.nodes_end),n=!0),pi(e,t&&!n),nn(e,0),ye(e,Hn);var r=e.transitions;if(r!==null)for(const s of r)s.stop();di(e);var i=e.parent;i!==null&&i.first!==null&&vi(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Gs(e,t){for(;e!==null;){var n=e===t?null:hn(e);e.remove(),e=n}}function vi(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Tt(e,t){var n=[];Wn(e,n,!0),gi(n,()=>{ke(e),t&&t()})}function gi(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function Wn(e,t,n){if((e.f&De)===0){if(e.f^=De,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var r=e.first;r!==null;){var i=r.next,s=(r.f&zt)!==0||(r.f&Oe)!==0;Wn(r,t,s?n:!1),r=i}}}function Xt(e){bi(e,!0)}function bi(e,t){if((e.f&De)!==0){e.f^=De,(e.f&ce)===0&&(e.f^=ce),Nt(e)&&(ye(e,Ce),dn(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&zt)!==0||(n.f&Oe)!==0;bi(n,i?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let At=[],Cn=[];function wi(){var e=At;At=[],$n(e)}function Qs(){var e=Cn;Cn=[],$n(e)}function Dt(e){At.length===0&&queueMicrotask(wi),At.push(e)}function Ws(){At.length>0&&wi(),Cn.length>0&&Qs()}function Ys(e){var t=D;if((t.f&jn)===0){if((t.f&qn)===0)throw e;t.fn(e)}else mi(e,t)}function mi(e,t){for(;t!==null;){if((t.f&qn)!==0)try{t.fn(e);return}catch{}t=t.parent}throw e}let Jt=!1,en=null,Qe=!1,ut=!1;function Sr(e){ut=e}let kt=[];let H=null,Ae=!1;function we(e){H=e}let D=null;function Ee(e){D=e}let se=null;function _i(e){H!==null&&H.f&Tn&&(se===null?se=[e]:se.push(e))}let J=null,ue=0,ge=null;function Ks(e){ge=e}let xi=1,tn=0,je=!1;function ki(){return++xi}function Nt(e){var d;var t=e.f;if((t&Ce)!==0)return!0;if((t&Ke)!==0){var n=e.deps,r=(t&he)!==0;if(n!==null){var i,s,o=(t&Yt)!==0,l=r&&D!==null&&!je,c=n.length;if(o||l){var a=e,u=a.parent;for(i=0;i<c;i++)s=n[i],(o||!((d=s==null?void 0:s.reactions)!=null&&d.includes(a)))&&(s.reactions??(s.reactions=[])).push(a);o&&(a.f^=Yt),l&&u!==null&&(u.f&he)===0&&(a.f^=he)}for(i=0;i<c;i++)if(s=n[i],Nt(s)&&oi(s),s.wv>e.wv)return!0}(!r||D!==null&&!je)&&ye(e,ce)}return!1}function yi(e,t,n=!0){var r=e.reactions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];se!=null&&se.includes(e)||((s.f&xe)!==0?yi(s,t,!1):t===s&&(n?ye(s,Ce):(s.f&ce)!==0&&ye(s,Ke),dn(s)))}}function Si(e){var h;var t=J,n=ue,r=ge,i=H,s=je,o=se,l=oe,c=Ae,a=e.f;J=null,ue=0,ge=null,je=(a&he)!==0&&(Ae||!Qe||H===null),H=(a&(Oe|at))===0?e:null,se=null,xr(e.ctx),Ae=!1,tn++,e.f|=Tn;try{var u=(0,e.fn)(),d=e.deps;if(J!==null){var f;if(nn(e,ue),d!==null&&ue>0)for(d.length=ue+J.length,f=0;f<J.length;f++)d[ue+f]=J[f];else e.deps=d=J;if(!je)for(f=ue;f<d.length;f++)((h=d[f]).reactions??(h.reactions=[])).push(e)}else d!==null&&ue<d.length&&(nn(e,ue),d.length=ue);if(si()&&ge!==null&&!Ae&&d!==null&&(e.f&(xe|Ke|Ce))===0)for(f=0;f<ge.length;f++)yi(ge[f],e);return i!==null&&i!==e&&(tn++,ge!==null&&(r===null?r=ge:r.push(...ge))),u}catch(p){Ys(p)}finally{J=t,ue=n,ge=r,H=i,je=s,se=o,xr(l),Ae=c,e.f^=Tn}}function Xs(e,t){let n=t.reactions;if(n!==null){var r=cs.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&xe)!==0&&(J===null||!J.includes(t))&&(ye(t,Ke),(t.f&(he|Yt))===0&&(t.f^=Yt),ai(t),nn(t,0))}function nn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Xs(e,n[r])}function Yn(e){var t=e.f;if((t&Hn)===0){ye(e,ce);var n=D,r=Qe;D=e,Qe=!0;try{(t&un)!==0?Zs(e):pi(e),di(e);var i=Si(e);e.teardown=typeof i=="function"?i:null,e.wv=xi;var s=e.deps,o;mr&&ys&&e.f&Ce}finally{Qe=r,D=n}}}function Js(){try{ws()}catch(e){if(en!==null)mi(e,en);else throw e}}function Ti(){var e=Qe;try{var t=0;for(Qe=!0;kt.length>0;){t++>1e3&&Js();var n=kt,r=n.length;kt=[];for(var i=0;i<r;i++){var s=ta(n[i]);ea(s)}St.clear()}}finally{Jt=!1,Qe=e,en=null}}function ea(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];(r.f&(Hn|De))===0&&Nt(r)&&(Yn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?vi(r):r.fn=null))}}function dn(e){Jt||(Jt=!0,queueMicrotask(Ti));for(var t=en=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(at|Oe))!==0){if((n&ce)===0)return;t.f^=ce}}kt.push(t)}function ta(e){for(var t=[],n=e;n!==null;){var r=n.f,i=(r&(Oe|at))!==0,s=i&&(r&ce)!==0;if(!s&&(r&De)===0){(r&Xr)!==0?t.push(n):i?n.f^=ce:Nt(n)&&Yn(n);var o=n.first;if(o!==null){n=o;continue}}var l=n.parent;for(n=n.next;n===null&&l!==null;)n=l.next,l=l.parent}return t}function na(e){for(var t;;){if(Ws(),kt.length===0)return t;Jt=!0,Ti()}}async function ra(){await Promise.resolve(),na()}function v(e){var t=e.f,n=(t&xe)!==0;if(H!==null&&!Ae){if(!(se!=null&&se.includes(e))){var r=H.deps;e.rv<tn&&(e.rv=tn,J===null&&r!==null&&r[ue]===e?ue++:J===null?J=[e]:(!je||!J.includes(e))&&J.push(e))}}else if(n&&e.deps===null&&e.effects===null){var i=e,s=i.parent;s!==null&&(s.f&he)===0&&(i.f^=he)}return n&&(i=e,Nt(i)&&oi(i)),ut&&St.has(e)?St.get(e):e.v}function Re(e){var t=Ae;try{return Ae=!0,e()}finally{Ae=t}}const ia=-7169;function ye(e,t){e.f=e.f&ia|t}function sa(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const aa=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function la(e){return aa.includes(e)}const oa={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function ca(e){return e=e.toLowerCase(),oa[e]??e}const ua=["touchstart","touchmove"];function fa(e){return ua.includes(e)}function ha(e,t){if(t){const n=document.body;e.autofocus=!0,Dt(()=>{document.activeElement===n&&e.focus()})}}let Tr=!1;function da(){Tr||(Tr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Kn(e){var t=H,n=D;we(null),Ee(null);try{return e()}finally{we(t),Ee(n)}}function Ai(e,t,n,r=n){e.addEventListener(t,()=>Kn(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),da()}const Ci=new Set,En=new Set;function Ei(e,t,n,r={}){function i(s){if(r.capture||_t.call(t,s),!s.cancelBubble)return Kn(()=>n==null?void 0:n.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Dt(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function Rn(e,t,n,r,i){var s={capture:r,passive:i},o=Ei(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Gn(()=>{t.removeEventListener(e,o,s)})}function Ot(e){for(var t=0;t<e.length;t++)Ci.add(e[t]);for(var n of En)n(e)}function _t(e){var b;var t=this,n=t.ownerDocument,r=e.type,i=((b=e.composedPath)==null?void 0:b.call(e))||[],s=i[0]||e.target,o=0,l=e.__root;if(l){var c=i.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var a=i.indexOf(t);if(a===-1)return;c<=a&&(o=c)}if(s=i[o]||e.target,s!==t){Yr(e,"currentTarget",{configurable:!0,get(){return s||n}});var u=H,d=D;we(null),Ee(null);try{for(var f,h=[];s!==null;){var p=s.assignedSlot||s.parentNode||s.host||null;try{var g=s["__"+r];if(g!=null&&(!s.disabled||e.target===s))if(Pt(g)){var[w,...m]=g;w.apply(s,[e,...m])}else g.call(s,e)}catch(k){f?h.push(k):f=k}if(e.cancelBubble||p===t||p===null)break;s=p}if(f){for(let k of h)queueMicrotask(()=>{throw k});throw f}}finally{e.__root=t,delete e.currentTarget,we(u),Ee(d)}}}function Ri(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Ct(e,t){var n=D;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function N(e,t){var n=(t&Ms)!==0,r=(t&Is)!==0,i,s=!e.startsWith("<!>");return()=>{i===void 0&&(i=Ri(s?e:"<!>"+e),n||(i=st(i)));var o=r||ui?document.importNode(i,!0):i.cloneNode(!0);if(n){var l=st(o),c=o.lastChild;Ct(l,c)}else Ct(o,o);return o}}function pa(e,t,n="svg"){var r=!e.startsWith("<!>"),i=`<${n}>${r?e:"<!>"+e}</${n}>`,s;return()=>{if(!s){var o=Ri(i),l=st(o);s=st(l)}var c=s.cloneNode(!0);return Ct(c,c),c}}function ft(e,t){return pa(e,t,"svg")}function va(e=""){{var t=fn(e+"");return Ct(t,t),t}}function rn(){var e=document.createDocumentFragment(),t=document.createComment(""),n=fn();return e.append(t,n),Ct(t,n),e}function R(e,t){e!==null&&e.before(t)}let Ln=!0;function be(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function ga(e,t){return ba(e,t)}const tt=new Map;function ba(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:o=!0}){Hs();var l=new Set,c=d=>{for(var f=0;f<d.length;f++){var h=d[f];if(!l.has(h)){l.add(h);var p=fa(h);t.addEventListener(h,_t,{passive:p});var g=tt.get(h);g===void 0?(document.addEventListener(h,_t,{passive:p}),tt.set(h,1)):tt.set(h,g+1)}}};c(Nn(Ci)),En.add(c);var a=void 0,u=Us(()=>{var d=n??t.appendChild(fn());return Ue(()=>{if(s){Le({});var f=oe;f.c=s}i&&(r.$$events=i),Ln=o,a=e(d,r)||{},Ln=!0,s&&Me()}),()=>{var p;for(var f of l){t.removeEventListener(f,_t);var h=tt.get(f);--h===0?(document.removeEventListener(f,_t),tt.delete(f)):tt.set(f,h)}En.delete(c),d!==n&&((p=d.parentNode)==null||p.removeChild(d))}});return wa.set(a,u),a}let wa=new WeakMap;function V(e,t,[n,r]=[0,0]){var i=e,s=null,o=null,l=le,c=n>0?zt:0,a=!1;const u=(f,h=!0)=>{a=!0,d(h,f)},d=(f,h)=>{l!==(l=f)&&(l?(s?Xt(s):h&&(s=Ue(()=>h(i))),o&&Tt(o,()=>{o=null})):(o?Xt(o):h&&(o=Ue(()=>h(i,[n+1,r]))),s&&Tt(s,()=>{s=null})))};ct(()=>{a=!1,t(u),a||d(null,null)},c)}function Mn(e,t){return t}function ma(e,t,n,r){for(var i=[],s=t.length,o=0;o<s;o++)Wn(t[o].e,i,!0);var l=s>0&&i.length===0&&n!==null;if(l){var c=n.parentNode;js(c),c.append(n),r.clear(),He(e,t[0].prev,t[s-1].next)}gi(i,()=>{for(var a=0;a<s;a++){var u=t[a];l||(r.delete(u.k),He(e,u.prev,u.next)),ke(u.e,!l)}})}function Et(e,t,n,r,i,s=null){var o=e,l={flags:t,items:new Map,first:null},c=(t&ri)!==0;if(c){var a=e;o=a.appendChild(fn())}var u=null,d=!1,f=Ns(()=>{var h=n();return Pt(h)?h:h==null?[]:Nn(h)});ct(()=>{var h=v(f),p=h.length;d&&p===0||(d=p===0,_a(h,l,o,i,t,r,n),s!==null&&(p===0?u?Xt(u):u=Ue(()=>s(o)):u!==null&&Tt(u,()=>{u=null})),v(f))})}function _a(e,t,n,r,i,s,o){var me,ae,de,Se;var l=(i&Ss)!==0,c=(i&(Vn|Un))!==0,a=e.length,u=t.items,d=t.first,f=d,h,p=null,g,w=[],m=[],b,k,_,x;if(l)for(x=0;x<a;x+=1)b=e[x],k=s(b,x),_=u.get(k),_!==void 0&&((me=_.a)==null||me.measure(),(g??(g=new Set)).add(_));for(x=0;x<a;x+=1){if(b=e[x],k=s(b,x),_=u.get(k),_===void 0){var T=f?f.e.nodes_start:n;p=ka(T,t,p,p===null?t.first:p.next,b,k,x,r,i,o),u.set(k,p),w=[],m=[],f=p.next;continue}if(c&&xa(_,b,x,i),(_.e.f&De)!==0&&(Xt(_.e),l&&((ae=_.a)==null||ae.unfix(),(g??(g=new Set)).delete(_))),_!==f){if(h!==void 0&&h.has(_)){if(w.length<m.length){var C=m[0],A;p=C.prev;var F=w[0],O=w[w.length-1];for(A=0;A<w.length;A+=1)Ar(w[A],C,n);for(A=0;A<m.length;A+=1)h.delete(m[A]);He(t,F.prev,O.next),He(t,p,F),He(t,O,C),f=C,p=O,x-=1,w=[],m=[]}else h.delete(_),Ar(_,f,n),He(t,_.prev,_.next),He(t,_,p===null?t.first:p.next),He(t,p,_),p=_;continue}for(w=[],m=[];f!==null&&f.k!==k;)(f.e.f&De)===0&&(h??(h=new Set)).add(f),m.push(f),f=f.next;if(f===null)continue;_=f}w.push(_),p=_,f=_.next}if(f!==null||h!==void 0){for(var W=h===void 0?[]:Nn(h);f!==null;)(f.e.f&De)===0&&W.push(f),f=f.next;var U=W.length;if(U>0){var Y=(i&ri)!==0&&a===0?n:null;if(l){for(x=0;x<U;x+=1)(de=W[x].a)==null||de.measure();for(x=0;x<U;x+=1)(Se=W[x].a)==null||Se.fix()}ma(t,W,Y,u)}}l&&Dt(()=>{var E;if(g!==void 0)for(_ of g)(E=_.a)==null||E.apply()}),D.first=t.first&&t.first.e,D.last=p&&p.e}function xa(e,t,n,r){(r&Vn)!==0&&An(e.v,t),(r&Un)!==0?An(e.i,n):e.i=n}function ka(e,t,n,r,i,s,o,l,c,a){var u=(c&Vn)!==0,d=(c&Ts)===0,f=u?d?Zn(i):Kt(i):i,h=(c&Un)===0?o:Kt(o),p={i:h,v:f,k:s,a:null,e:null,prev:n,next:r};try{return p.e=Ue(()=>l(e,f,h,a),qs),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?t.first=p:(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function Ar(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==r;){var o=hn(s);i.before(s),s=o}}function He(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Xn(e,t,n){var r=e,i,s;ct(()=>{i!==(i=t())&&(s&&(Tt(s),s=null),i&&(s=Ue(()=>n(r,i))))},zt)}function ya(e,t){var n=void 0,r;ct(()=>{n!==(n=t())&&(r&&(ke(r),r=null),n&&(r=Ue(()=>{ot(()=>n(e))})))})}function Li(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Li(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Sa(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Li(e))&&(r&&(r+=" "),r+=t);return r}function Ta(e){return typeof e=="object"?Sa(e):e??""}const Cr=[...` 	
\r\f \v\uFEFF`];function Aa(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,o=0;(o=r.indexOf(i,o))>=0;){var l=o+s;(o===0||Cr.includes(r[o-1]))&&(l===r.length||Cr.includes(r[l]))?r=(o===0?"":r.substring(0,o))+r.substring(l+1):o=l}}return r===""?null:r}function Er(e,t=!1){var n=t?" !important;":";",r="";for(var i in e){var s=e[i];s!=null&&s!==""&&(r+=" "+i+": "+s+n)}return r}function _n(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Ca(e,t){if(t){var n="",r,i;if(Array.isArray(t)?(r=t[0],i=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var s=!1,o=0,l=!1,c=[];r&&c.push(...Object.keys(r).map(_n)),i&&c.push(...Object.keys(i).map(_n));var a=0,u=-1;const g=e.length;for(var d=0;d<g;d++){var f=e[d];if(l?f==="/"&&e[d-1]==="*"&&(l=!1):s?s===f&&(s=!1):f==="/"&&e[d+1]==="*"?l=!0:f==='"'||f==="'"?s=f:f==="("?o++:f===")"&&o--,!l&&s===!1&&o===0){if(f===":"&&u===-1)u=d;else if(f===";"||d===g-1){if(u!==-1){var h=_n(e.substring(a,u).trim());if(!c.includes(h)){f!==";"&&d++;var p=e.substring(a,d).trim();n+=" "+p+";"}}a=d+1,u=-1}}}}return r&&(n+=Er(r)),i&&(n+=Er(i,!0)),n=n.trim(),n===""?null:n}return e==null?null:String(e)}function Ne(e,t,n,r,i,s){var o=e.__className;if(o!==n||o===void 0){var l=Aa(n,r,s);l==null?e.removeAttribute("class"):t?e.className=l:e.setAttribute("class",l),e.__className=n}else if(s&&i!==s)for(var c in s){var a=!!s[c];(i==null||a!==!!i[c])&&e.classList.toggle(c,a)}return s}function xn(e,t={},n,r){for(var i in n){var s=n[i];t[i]!==s&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,s,r))}}function Xe(e,t,n,r){var i=e.__style;if(i!==t){var s=Ca(t,r);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}else r&&(Array.isArray(r)?(xn(e,n==null?void 0:n[0],r[0]),xn(e,n==null?void 0:n[1],r[1],"important")):xn(e,n,r));return r}function In(e,t,n){if(e.multiple){if(t==null)return;if(!Pt(t))return $s();for(var r of e.options)r.selected=t.includes(Rr(r));return}for(r of e.options){var i=Rr(r);if(Ds(i,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Ea(e,t){let n=!0;ot(()=>{t&&In(e,Re(t),n),n=!1;var r=new MutationObserver(()=>{var i=e.__value;In(e,i)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function Rr(e){return"__value"in e?e.__value:e.value}const Ft=Symbol("class"),bt=Symbol("style"),Mi=Symbol("is custom element"),Ii=Symbol("is html");function Lr(e,t){var n=Jn(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Ra(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function Mr(e,t,n,r){var i=Jn(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[ps]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Pi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function La(e,t,n,r,i=!1){var s=Jn(e),o=s[Mi],l=!s[Ii],c=t||{},a=e.tagName==="OPTION";for(var u in t)u in n||(n[u]=null);n.class?n.class=Ta(n.class):n.class=null,n[bt]&&(n.style??(n.style=null));var d=Pi(e);for(const b in n){let k=n[b];if(a&&b==="value"&&k==null){e.value=e.__value="",c[b]=k;continue}if(b==="class"){var f=e.namespaceURI==="http://www.w3.org/1999/xhtml";Ne(e,f,k,r,t==null?void 0:t[Ft],n[Ft]),c[b]=k,c[Ft]=n[Ft];continue}if(b==="style"){Xe(e,k,t==null?void 0:t[bt],n[bt]),c[b]=k,c[bt]=n[bt];continue}var h=c[b];if(k!==h){c[b]=k;var p=b[0]+b[1];if(p!=="$$")if(p==="on"){const _={},x="$$"+b;let T=b.slice(2);var g=la(T);if(sa(T)&&(T=T.slice(0,-7),_.capture=!0),!g&&h){if(k!=null)continue;e.removeEventListener(T,c[x],_),c[x]=null}if(k!=null)if(g)e[`__${T}`]=k,Ot([T]);else{let C=function(A){c[b].call(this,A)};c[x]=Ei(T,e,C,_)}else g&&(e[`__${T}`]=void 0)}else if(b==="style")Mr(e,b,k);else if(b==="autofocus")ha(e,!!k);else if(!o&&(b==="__value"||b==="value"&&k!=null))e.value=e.__value=k;else if(b==="selected"&&a)Ra(e,k);else{var w=b;l||(w=ca(w));var m=w==="defaultValue"||w==="defaultChecked";if(k==null&&!o&&!m)if(s[b]=null,w==="value"||w==="checked"){let _=e;const x=t===void 0;if(w==="value"){let T=_.defaultValue;_.removeAttribute(w),_.defaultValue=T,_.value=_.__value=x?T:null}else{let T=_.defaultChecked;_.removeAttribute(w),_.defaultChecked=T,_.checked=x?T:!1}}else e.removeAttribute(b);else m||d.includes(w)&&(o||typeof k!="string")?e[w]=k:typeof k!="function"&&Mr(e,w,k)}}}return c}function Ma(e,t,n=[],r,i=!1,s=Bt){const o=n.map(s);var l=void 0,c={},a=e.nodeName==="SELECT",u=!1;ct(()=>{var d=t(...o.map(v));La(e,l,d,r,i),u&&a&&"value"in d&&In(e,d.value,!1);for(let h of Object.getOwnPropertySymbols(c))d[h]||ke(c[h]);for(let h of Object.getOwnPropertySymbols(d)){var f=d[h];h.description===zs&&(!l||f!==l[h])&&(c[h]&&ke(c[h]),c[h]=Ue(()=>ya(e,()=>f)))}l=d}),a&&Ea(e,()=>l.value),u=!0}function Jn(e){return e.__attributes??(e.__attributes={[Mi]:e.nodeName.includes("-"),[Ii]:e.namespaceURI===Ps})}var Ir=new Map;function Pi(e){var t=Ir.get(e.nodeName);if(t)return t;Ir.set(e.nodeName,t=[]);for(var n,r=e,i=Element.prototype;i!==r;){n=us(r);for(var s in n)n[s].set&&t.push(s);r=On(r)}return t}const Ia=()=>performance.now(),Pe={tick:e=>requestAnimationFrame(e),now:()=>Ia(),tasks:new Set};function zi(){const e=Pe.now();Pe.tasks.forEach(t=>{t.c(e)||(Pe.tasks.delete(t),t.f())}),Pe.tasks.size!==0&&Pe.tick(zi)}function Pa(e){let t;return Pe.tasks.size===0&&Pe.tick(zi),{promise:new Promise(n=>{Pe.tasks.add(t={c:e,f:n})}),abort(){Pe.tasks.delete(t)}}}function Pr(e,t){Kn(()=>{e.dispatchEvent(new CustomEvent(t))})}function za(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function zr(e){const t={},n=e.split(";");for(const r of n){const[i,s]=r.split(":");if(!i||s===void 0)break;const o=za(i.trim());t[o]=s.trim()}return t}const Ba=e=>e;function Ze(e,t,n,r){var i=(e&Ls)!==0,s="in",o,l=t.inert,c=t.style.overflow,a,u;function d(){var w=H,m=D;we(null),Ee(null);try{return o??(o=n()(t,(r==null?void 0:r())??{},{direction:s}))}finally{we(w),Ee(m)}}var f={is_global:i,in(){t.inert=l,a==null||a.abort(),Pr(t,"introstart"),a=Bi(t,d(),u,1,()=>{Pr(t,"introend"),a==null||a.abort(),a=o=void 0,t.style.overflow=c})},out(w){{w==null||w(),o=void 0;return}},stop:()=>{a==null||a.abort()}},h=D;if((h.transitions??(h.transitions=[])).push(f),Ln){var p=i;if(!p){for(var g=h.parent;g&&(g.f&zt)!==0;)for(;(g=g.parent)&&(g.f&un)===0;);p=!g||(g.f&jn)!==0}p&&ot(()=>{Re(()=>f.in())})}}function Bi(e,t,n,r,i){if(rt(t)){var s,o=!1;return Dt(()=>{if(!o){var g=t({direction:"in"});s=Bi(e,g,n,r,i)}}),{abort:()=>{o=!0,s==null||s.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(!(t!=null&&t.duration))return i(),{abort:te,deactivate:te,reset:te,t:()=>r};const{delay:l=0,css:c,tick:a,easing:u=Ba}=t;var d=[];if(a&&a(0,1),c){var f=zr(c(0,1));d.push(f,f)}var h=()=>1-r,p=e.animate(d,{duration:l,fill:"forwards"});return p.onfinish=()=>{p.cancel();var g=1-r,w=r-g,m=t.duration*Math.abs(w),b=[];if(m>0){var k=!1;if(c)for(var _=Math.ceil(m/16.666666666666668),x=0;x<=_;x+=1){var T=g+w*u(x/_),C=zr(c(T,1-T));b.push(C),k||(k=C.overflow==="hidden")}k&&(e.style.overflow="hidden"),h=()=>{var A=p.currentTime;return g+w*u(A/m)},a&&Pa(()=>{if(p.playState!=="running")return!1;var A=h();return a(A,1-A),!0})}p=e.animate(b,{duration:m,fill:"forwards"}),p.onfinish=()=>{h=()=>r,a==null||a(r,1-r),i()}},{abort:()=>{p&&(p.cancel(),p.effect=null,p.onfinish=te)},deactivate:()=>{i=te},reset:()=>{},t:()=>h()}}function Da(e,t,n=t){Ai(e,"input",r=>{var i=r?e.defaultValue:e.value;if(i=kn(e)?yn(i):i,n(i),i!==(i=t())){var s=e.selectionStart,o=e.selectionEnd;e.value=i??"",o!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(o,e.value.length))}}),Re(t)==null&&e.value&&n(kn(e)?yn(e.value):e.value),Qn(()=>{var r=t();kn(e)&&r===yn(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function Na(e,t,n=t){Ai(e,"change",r=>{var i=r?e.defaultChecked:e.checked;n(i)}),Re(t)==null&&n(e.checked),Qn(()=>{var r=t();e.checked=!!r})}function kn(e){var t=e.type;return t==="number"||t==="range"}function yn(e){return e===""?null:+e}function Br(e,t){return e===t||(e==null?void 0:e[Ve])===t}function it(e={},t,n,r){return ot(()=>{var i,s;return Qn(()=>{i=s,s=[],Re(()=>{e!==n(...s)&&(t(e,...s),i&&Br(n(...i),e)&&t(null,...i))})}),()=>{Dt(()=>{s&&Br(n(...s),e)&&t(null,...s)})}}),e}function er(e,t,n){if(e==null)return t(void 0),n&&n(void 0),te;const r=Re(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const nt=[];function Oa(e,t){return{subscribe:tr(e,t).subscribe}}function tr(e,t=te){let n=null;const r=new Set;function i(l){if(ni(e,l)&&(e=l,n)){const c=!nt.length;for(const a of r)a[1](),nt.push(a,e);if(c){for(let a=0;a<nt.length;a+=2)nt[a][0](nt[a+1]);nt.length=0}}}function s(l){i(l(e))}function o(l,c=te){const a=[l,c];return r.add(a),r.size===1&&(n=t(i,s)||te),l(e),()=>{r.delete(a),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}function $a(e,t,n){const r=!Array.isArray(e),i=r?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=t.length<2;return Oa(n,(o,l)=>{let c=!1;const a=[];let u=0,d=te;const f=()=>{if(u)return;d();const p=t(r?a[0]:a,o,l);s?o(p):d=typeof p=="function"?p:te},h=i.map((p,g)=>er(p,w=>{a[g]=w,u&=~(1<<g),c&&f()},()=>{u|=1<<g}));return c=!0,f(),function(){$n(h),d(),c=!1}})}function sn(e){let t;return er(e,n=>t=n)(),t}let Vt=!1,Pn=Symbol();function qa(e,t,n){const r=n[t]??(n[t]={store:null,source:Zn(void 0),unsubscribe:te});if(r.store!==e&&!(Pn in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=te;else{var i=!0;r.unsubscribe=er(e,s=>{i?r.source.v=s:S(r.source,s)}),i=!1}return e&&Pn in n?sn(e):v(r.source)}function Ha(){const e={};function t(){Gn(()=>{for(var n in e)e[n].unsubscribe();Yr(e,Pn,{enumerable:!1,value:!0})})}return[e,t]}function ja(e){var t=Vt;try{return Vt=!1,[e(),Vt]}finally{Vt=t}}const Fa={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(rt(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let i=e.props[r];rt(i)&&(i=i());const s=Fe(i,t);if(s&&s.set)return s.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(rt(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r){const i=Fe(r,t);return i&&!i.configurable&&(i.configurable=!0),i}}},has(e,t){if(t===Ve||t===ei)return!1;for(let n of e.props)if(rt(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props)if(rt(n)&&(n=n()),!!n){for(const r in n)t.includes(r)||t.push(r);for(const r of Object.getOwnPropertySymbols(n))t.includes(r)||t.push(r)}return t}};function Gt(...e){return new Proxy({props:e},Fa)}function Dr(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function re(e,t,n,r){var x;var i=(n&As)!==0,s=!0,o=(n&Es)!==0,l=(n&Rs)!==0,c=!1,a;o?[a,c]=ja(()=>e[t]):a=e[t];var u=Ve in e||ei in e,d=o&&(((x=Fe(e,t))==null?void 0:x.set)??(u&&t in e&&(T=>e[t]=T)))||void 0,f=r,h=!0,p=!1,g=()=>(p=!0,h&&(h=!1,l?f=Re(r):f=r),f);a===void 0&&r!==void 0&&(d&&s&&ms(),a=g(),d&&d(a));var w;if(w=()=>{var T=e[t];return T===void 0?g():(h=!0,p=!1,T)},(n&Cs)===0&&s)return w;if(d){var m=e.$$legacy;return function(T,C){return arguments.length>0?((!C||m||c)&&d(C?w():T),T):w()}}var b=!1,k=Zn(a),_=Bt(()=>{var T=w(),C=v(k);return b?(b=!1,C):k.v=T});return o&&v(_),i||(_.equals=Fn),function(T,C){if(arguments.length>0){const A=C?v(_):o?ne(T):T;if(!_.equals(A)){if(b=!0,S(k,A),p&&f!==void 0&&(f=A),Dr(_))return T;Re(()=>v(_))}return T}return Dr(_)?_.v:v(_)}}function $t(e){oe===null&&ii(),xt(()=>{const t=Re(e);if(typeof t=="function")return t})}function Di(e){oe===null&&ii(),$t(()=>()=>Re(e))}var Gr,Qr;const Va=(Qr=(Gr=globalThis.browser)==null?void 0:Gr.runtime)!=null&&Qr.id?globalThis.browser:globalThis.chrome,ee=Va,Ua="5";var Wr;typeof window<"u"&&((Wr=window.__svelte??(window.__svelte={})).v??(Wr.v=new Set)).add(Ua);function Za(e,t,n,r){var i,s,o=!1,l=n.length>=2,c=(p,g,w)=>{if(i=g,l&&(s=p),!o){let m=t(p,g,w);if(t.length<2)g(m);else return m}o=!1},a=$a(e,c,r),u=!Array.isArray(e);function d(p){var g=n(p,s);u?(o=!0,e.set(g)):g.forEach((w,m)=>{o=!0,e[m].set(w)}),o=!1}var f=!1;function h(p){var g,w,m,b;if(f){b=p(sn(a)),i(b);return}var k=a.subscribe(_=>{f?g?w=!0:g=!0:m=_});b=p(m),f=!0,i(b),k(),f=!1,w&&(b=sn(a)),g&&d(b)}return{subscribe:a.subscribe,set(p){h(()=>p)},update:h}}const Ga=20,Je=tr([]),nr=tr(null),Qt=new Map,Nr=e=>{if(Qt.has(e))return;const t=setTimeout(()=>{Qt.delete(e),Oi(e)},1e3);Qt.set(e,t)},Qa=e=>{const t=Qt.get(e);t&&clearTimeout(t)};function Ni(e,t=!0){t&&e.id&&Qa(e.id),Je.update(n=>n.map(r=>r.id===e.id?{...r,...e}:r))}function Wa(e){Je.update(t=>[e,...t].slice(0,Ga))}function Ya(e){sn(Je).find(t=>t.id===e.id)?Ni(e):Wa(e)}function Ka(e){Je.update(t=>(e?Nr(e):t.forEach(n=>{Nr(n.id)}),t.map(n=>n.id===e||e===void 0?{...n,visible:!1}:n)))}function Oi(e){Je.update(t=>e===void 0?[]:t.filter(n=>n.id!==e))}function Xa(e){nr.set(e)}function Ja(e){let t;nr.update(n=>(t=e-(n||0),null)),Je.update(n=>n.map(r=>({...r,pauseDuration:r.pauseDuration+t})))}const el={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3};function tl(e={}){return{toasts:Za(Je,n=>n.map(r=>{var i,s;return{...e,...e[r.type],...r,duration:r.duration||((i=e[r.type])==null?void 0:i.duration)||(e==null?void 0:e.duration)||el[r.type],style:[e.style,(s=e[r.type])==null?void 0:s.style,r.style].join(";")}}),n=>n),pausedAt:nr}}const nl=e=>typeof e=="function",Or=(e,t)=>nl(e)?e(t):e,rl=(()=>{let e=0;return()=>(e+=1,e.toString())})(),$i=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){const t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),il=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,icon:n==null?void 0:n.icon,duration:n==null?void 0:n.duration,iconTheme:n==null?void 0:n.iconTheme,position:n==null?void 0:n.position,props:n==null?void 0:n.props,id:(n==null?void 0:n.id)||rl()}),qt=e=>(t,n)=>{const r=il(t,e,n);return Ya(r),r.id},fe=(e,t)=>qt("blank")(e,t);fe.error=qt("error");fe.success=qt("success");fe.loading=qt("loading");fe.custom=qt("custom");fe.dismiss=e=>{Ka(e)};fe.remove=e=>Oi(e);fe.promise=(e,t,n)=>{const r=fe.loading(t.loading,{...n,...n==null?void 0:n.loading});return e.then(i=>(fe.success(Or(t.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{fe.error(Or(t.error,i),{id:r,...n,...n==null?void 0:n.error})}),e};function sl(e,t,n){const{reverseOrder:r,gutter:i=8,defaultPosition:s}=n||{},o=t.filter(u=>(u.position||s)===(e.position||s)&&u.height),l=o.findIndex(u=>u.id===e.id),c=o.filter((u,d)=>d<l&&u.visible).length;return o.filter(u=>u.visible).slice(...r?[c+1]:[0,c]).reduce((u,d)=>u+(d.height||0)+i,0)}const al={startPause(){Xa(Date.now())},endPause(){Ja(Date.now())},updateHeight:(e,t)=>{Ni({id:e,height:t},!1)},calculateOffset:sl};function ll(e){const{toasts:t,pausedAt:n}=tl(e),r=new Map;let i;const s=[n.subscribe(o=>{if(o){for(const[,l]of r)clearTimeout(l);r.clear()}i=o}),t.subscribe(o=>{if(i)return;const l=Date.now();for(const c of o){if(r.has(c.id)||c.duration===1/0)continue;const a=(c.duration||0)+c.pauseDuration-(l-c.createdAt);if(a<0)return c.visible&&fe.dismiss(c.id),null;r.set(c.id,setTimeout(()=>fe.dismiss(c.id),a))}})];return Di(()=>{for(const o of s)o()}),{toasts:t,handlers:al}}var ol=N('<div class="svelte-11kvm4p"></div>');function cl(e,t){let n=re(t,"primary",3,"#61d345"),r=re(t,"secondary",3,"#fff");var i=ol();let s;Q(()=>s=Xe(i,"",s,{"--primary":n(),"--secondary":r()})),R(e,i)}var ul=N('<div class="svelte-1ee93ns"></div>');function fl(e,t){let n=re(t,"primary",3,"#ff4b4b"),r=re(t,"secondary",3,"#fff");var i=ul();let s;Q(()=>s=Xe(i,"",s,{"--primary":n(),"--secondary":r()})),R(e,i)}var hl=N('<div class="svelte-1j7dflg"></div>');function dl(e,t){let n=re(t,"primary",3,"#616161"),r=re(t,"secondary",3,"#e0e0e0");var i=hl();let s;Q(()=>s=Xe(i,"",s,{"--primary":n(),"--secondary":r()})),R(e,i)}var pl=N('<div class="animated svelte-1kgeier"> </div>'),vl=N('<div class="status svelte-1kgeier"><!></div>'),gl=N('<div class="indicator svelte-1kgeier"><!> <!></div>');function qi(e,t){Le(t,!0);let n=X(()=>t.toast.type),r=X(()=>t.toast.icon),i=X(()=>t.toast.iconTheme);var s=rn(),o=We(s);{var l=a=>{var u=pl(),d=y(u);Q(()=>be(d,v(r))),R(a,u)},c=(a,u)=>{{var d=h=>{var p=rn(),g=We(p);Xn(g,()=>v(r),(w,m)=>{m(w,{})}),R(h,p)},f=(h,p)=>{{var g=w=>{var m=gl(),b=y(m);dl(b,Gt(()=>v(i)));var k=L(b,2);{var _=x=>{var T=vl(),C=y(T);{var A=O=>{fl(O,Gt(()=>v(i)))},F=O=>{cl(O,Gt(()=>v(i)))};V(C,O=>{v(n)==="error"?O(A):O(F,!1)})}R(x,T)};V(k,x=>{v(n)!=="loading"&&x(_)})}R(w,m)};V(h,w=>{v(n)!=="blank"&&w(g)},p)}};V(a,h=>{typeof v(r)<"u"?h(d):h(f,!1)},u)}};V(o,a=>{typeof v(r)=="string"?a(l):a(c,!1)})}R(e,s),Me()}var bl=N("<div><!></div>");function rr(e,t){Le(t,!0);let n=ne(t.toast.message);var r=bl();Ma(r,()=>({class:"message",...t.toast.ariaProps}),void 0,"svelte-1nauejd");var i=y(r);{var s=l=>{var c=va();Q(()=>be(c,t.toast.message)),R(l,c)},o=l=>{var c=rn(),a=We(c);Xn(a,()=>n,(u,d)=>{d(u,Gt({get toast(){return t.toast}},()=>t.toast.props))}),R(l,c)};V(i,l=>{typeof t.toast.message=="string"?l(s):l(o,!1)})}R(e,r),Me()}const wl=(e,t=te)=>{var n=ml(),r=We(n);qi(r,{get toast(){return t().toast}});var i=L(r,2);rr(i,{get toast(){return t().toast}}),R(e,n)};var ml=N("<!> <!>",1),_l=N("<div><!></div>");function xl(e,t){Le(t,!0);let n=re(t,"position",3,void 0),r=re(t,"Component",3,void 0),i=X(()=>(t.toast.position||n()||"top-center").includes("top")),s=X(()=>v(i)?1:-1);const o=X(()=>$i()?["fadeIn","fadeOut"]:["enter","exit"]),l=X(()=>hs(v(o),2)),c=X(()=>v(l)[0]),a=X(()=>v(l)[1]);let u=X(()=>t.toast.visible?v(c):v(a));var d=_l();let f;var h=y(d);{var p=w=>{var m=rn(),b=We(m);Xn(b,r,(k,_)=>{_(k,{$$slots:{icon:(x,T)=>{qi(x,{get toast(){return t.toast},slot:"icon"})},message:(x,T)=>{rr(x,{get toast(){return t.toast},slot:"message"})}}})}),R(w,m)},g=w=>{wl(w,()=>({toast:t.toast}))};V(h,w=>{r()?w(p):w(g,!1)})}Q(()=>{Ne(d,1,`base ${(t.toast.height?v(u):"transparent")??""} ${(t.toast.className||"")??""}`,"svelte-1c9srrs"),f=Xe(d,t.toast.style,f,{"--factor":v(s)})}),R(e,d),Me()}const kl=(e,t=te)=>{xl(e,{get toast(){return t().toast},get position(){return t().toast.position}})};var yl=N("<div><!></div>");function Sl(e,t){Le(t,!0);let n=I(void 0);$t(()=>{var h,p,g;(g=t.setHeight)==null||g.call(t,(p=(h=v(n))==null?void 0:h.getBoundingClientRect())==null?void 0:p.height)});let r=X(()=>{var h;return(h=t.toast.position)!=null&&h.includes("top")?0:null}),i=X(()=>{var h;return(h=t.toast.position)!=null&&h.includes("bottom")?0:null}),s=X(()=>{var h;return(h=t.toast.position)!=null&&h.includes("top")?1:-1}),o=X(()=>{var h,p,g;return((h=t.toast.position)==null?void 0:h.includes("center"))&&"center"||(((p=t.toast.position)==null?void 0:p.includes("right"))||((g=t.toast.position)==null?void 0:g.includes("end")))&&"flex-end"||null});var l=yl();let c,a;var u=y(l);{var d=h=>{rr(h,{get toast(){return t.toast}})},f=h=>{kl(h,()=>({toast:t.toast}))};V(u,h=>{t.toast.type==="custom"?h(d):h(f,!1)})}it(l,h=>S(n,h),()=>v(n)),Q(h=>{c=Ne(l,1,"wrapper svelte-v01oml",null,c,h),a=Xe(l,"",a,{"--factor":v(s),"--offset":t.toast.offset,top:v(r),bottom:v(i),"justify-content":v(o)})},[()=>({active:t.toast.visible,transition:!$i()})]),R(e,l),Me()}var Tl=N('<div role="alert"></div>');function Al(e,t){Le(t,!0);const[n,r]=Ha(),i=()=>qa(c,"$toasts",n);let s=re(t,"reverseOrder",3,!1),o=re(t,"position",3,"top-center"),l=re(t,"gutter",3,8);const{toasts:c,handlers:a}=ll(t.toastOptions);let u=X(()=>i().map(f=>({...f,position:f.position||o(),offset:a.calculateOffset(f,i(),{reverseOrder:s(),gutter:l(),defaultPosition:o()})})));var d=Tl();Et(d,21,()=>v(u),f=>f.id,(f,h)=>{Sl(f,{get toast(){return v(h)},setHeight:p=>a.updateHeight(v(h).id,p??0)})}),Q(()=>{Ne(d,1,`toaster ${(t.containerClassName||"")??""}`,"svelte-1phplh9"),Xe(d,t.containerStyle)}),Rn("mouseenter",d,function(...f){var h;(h=a.startPause)==null||h.apply(this,f)}),Rn("mouseleave",d,function(...f){var h;(h=a.endPause)==null||h.apply(this,f)}),R(e,d),Me(),r()}function Cl(e){const t=e-1;return t*t*t+1}function $r(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Ge(e,{delay:t=0,duration:n=400,easing:r=Cl,x:i=0,y:s=0,opacity:o=0}={}){const l=getComputedStyle(e),c=+l.opacity,a=l.transform==="none"?"":l.transform,u=c*(1-o),[d,f]=$r(i),[h,p]=$r(s);return{delay:t,duration:n,easing:r,css:(g,w)=>`
			transform: ${a} translate(${(1-g)*d}${f}, ${(1-g)*h}${p});
			opacity: ${c-u*w}`}}function ir(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var et=ir();function Hi(e){et=e}var yt={exec:()=>null};function B(e,t=""){let n=typeof e=="string"?e:e.source;const r={replace:(i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(ie.caret,"$1"),n=n.replace(i,o),r},getRegex:()=>new RegExp(n,t)};return r}var ie={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},El=/^(?:[ \t]*(?:\n|$))+/,Rl=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Ll=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ht=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Ml=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,sr=/(?:[*+-]|\d{1,9}[.)])/,ji=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Fi=B(ji).replace(/bull/g,sr).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Il=B(ji).replace(/bull/g,sr).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),ar=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Pl=/^[^\n]+/,lr=/(?!\s*\])(?:\\.|[^\[\]\\])+/,zl=B(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",lr).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Bl=B(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,sr).getRegex(),pn="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",or=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Dl=B("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",or).replace("tag",pn).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Vi=B(ar).replace("hr",Ht).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pn).getRegex(),Nl=B(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Vi).getRegex(),cr={blockquote:Nl,code:Rl,def:zl,fences:Ll,heading:Ml,hr:Ht,html:Dl,lheading:Fi,list:Bl,newline:El,paragraph:Vi,table:yt,text:Pl},qr=B("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ht).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pn).getRegex(),Ol={...cr,lheading:Il,table:qr,paragraph:B(ar).replace("hr",Ht).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",qr).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pn).getRegex()},$l={...cr,html:B(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",or).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:yt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:B(ar).replace("hr",Ht).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Fi).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},ql=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Hl=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Ui=/^( {2,}|\\)\n(?!\s*$)/,jl=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,vn=/[\p{P}\p{S}]/u,ur=/[\s\p{P}\p{S}]/u,Zi=/[^\s\p{P}\p{S}]/u,Fl=B(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,ur).getRegex(),Gi=/(?!~)[\p{P}\p{S}]/u,Vl=/(?!~)[\s\p{P}\p{S}]/u,Ul=/(?:[^\s\p{P}\p{S}]|~)/u,Zl=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Qi=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Gl=B(Qi,"u").replace(/punct/g,vn).getRegex(),Ql=B(Qi,"u").replace(/punct/g,Gi).getRegex(),Wi="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Wl=B(Wi,"gu").replace(/notPunctSpace/g,Zi).replace(/punctSpace/g,ur).replace(/punct/g,vn).getRegex(),Yl=B(Wi,"gu").replace(/notPunctSpace/g,Ul).replace(/punctSpace/g,Vl).replace(/punct/g,Gi).getRegex(),Kl=B("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Zi).replace(/punctSpace/g,ur).replace(/punct/g,vn).getRegex(),Xl=B(/\\(punct)/,"gu").replace(/punct/g,vn).getRegex(),Jl=B(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),eo=B(or).replace("(?:-->|$)","-->").getRegex(),to=B("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",eo).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),an=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,no=B(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",an).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Yi=B(/^!?\[(label)\]\[(ref)\]/).replace("label",an).replace("ref",lr).getRegex(),Ki=B(/^!?\[(ref)\](?:\[\])?/).replace("ref",lr).getRegex(),ro=B("reflink|nolink(?!\\()","g").replace("reflink",Yi).replace("nolink",Ki).getRegex(),fr={_backpedal:yt,anyPunctuation:Xl,autolink:Jl,blockSkip:Zl,br:Ui,code:Hl,del:yt,emStrongLDelim:Gl,emStrongRDelimAst:Wl,emStrongRDelimUnd:Kl,escape:ql,link:no,nolink:Ki,punctuation:Fl,reflink:Yi,reflinkSearch:ro,tag:to,text:jl,url:yt},io={...fr,link:B(/^!?\[(label)\]\((.*?)\)/).replace("label",an).getRegex(),reflink:B(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",an).getRegex()},zn={...fr,emStrongRDelimAst:Yl,emStrongLDelim:Ql,url:B(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},so={...zn,br:B(Ui).replace("{2,}","*").getRegex(),text:B(zn.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ut={normal:cr,gfm:Ol,pedantic:$l},wt={normal:fr,gfm:zn,breaks:so,pedantic:io},ao={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Hr=e=>ao[e];function Te(e,t){if(t){if(ie.escapeTest.test(e))return e.replace(ie.escapeReplace,Hr)}else if(ie.escapeTestNoEncode.test(e))return e.replace(ie.escapeReplaceNoEncode,Hr);return e}function jr(e){try{e=encodeURI(e).replace(ie.percentDecode,"%")}catch{return null}return e}function Fr(e,t){var s;const n=e.replace(ie.findPipe,(o,l,c)=>{let a=!1,u=l;for(;--u>=0&&c[u]==="\\";)a=!a;return a?"|":" |"}),r=n.split(ie.splitPipe);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!((s=r.at(-1))!=null&&s.trim())&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(ie.slashPipe,"|");return r}function mt(e,t,n){const r=e.length;if(r===0)return"";let i=0;for(;i<r&&e.charAt(r-i-1)===t;)i++;return e.slice(0,r-i)}function lo(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let r=0;r<e.length;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}function Vr(e,t,n,r,i){const s=t.href,o=t.title||null,l=e[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;const c={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:o,text:l,tokens:r.inlineTokens(l)};return r.state.inLink=!1,c}function oo(e,t,n){const r=e.match(n.other.indentCodeCompensation);if(r===null)return t;const i=r[1];return t.split(`
`).map(s=>{const o=s.match(n.other.beginningSpace);if(o===null)return s;const[l]=o;return l.length>=i.length?s.slice(i.length):s}).join(`
`)}var ln=class{constructor(e){q(this,"options");q(this,"rules");q(this,"lexer");this.options=e||et}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:mt(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],r=oo(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){const r=mt(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:mt(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let n=mt(t[0],`
`).split(`
`),r="",i="";const s=[];for(;n.length>0;){let o=!1;const l=[];let c;for(c=0;c<n.length;c++)if(this.rules.other.blockquoteStart.test(n[c]))l.push(n[c]),o=!0;else if(!o)l.push(n[c]);else break;n=n.slice(c);const a=l.join(`
`),u=a.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${a}`:a,i=i?`${i}
${u}`:u;const d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,s,!0),this.lexer.state.top=d,n.length===0)break;const f=s.at(-1);if((f==null?void 0:f.type)==="code")break;if((f==null?void 0:f.type)==="blockquote"){const h=f,p=h.raw+`
`+n.join(`
`),g=this.blockquote(p);s[s.length-1]=g,r=r.substring(0,r.length-h.raw.length)+g.raw,i=i.substring(0,i.length-h.text.length)+g.text;break}else if((f==null?void 0:f.type)==="list"){const h=f,p=h.raw+`
`+n.join(`
`),g=this.list(p);s[s.length-1]=g,r=r.substring(0,r.length-f.raw.length)+g.raw,i=i.substring(0,i.length-h.raw.length)+g.raw,n=p.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:s,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const s=this.rules.other.listItemRegex(n);let o=!1;for(;e;){let c=!1,a="",u="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;a=t[0],e=e.substring(a.length);let d=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,m=>" ".repeat(3*m.length)),f=e.split(`
`,1)[0],h=!d.trim(),p=0;if(this.options.pedantic?(p=2,u=d.trimStart()):h?p=t[1].length+1:(p=t[2].search(this.rules.other.nonSpaceChar),p=p>4?1:p,u=d.slice(p),p+=t[1].length),h&&this.rules.other.blankLine.test(f)&&(a+=f+`
`,e=e.substring(f.length+1),c=!0),!c){const m=this.rules.other.nextBulletRegex(p),b=this.rules.other.hrRegex(p),k=this.rules.other.fencesBeginRegex(p),_=this.rules.other.headingBeginRegex(p),x=this.rules.other.htmlBeginRegex(p);for(;e;){const T=e.split(`
`,1)[0];let C;if(f=T,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),C=f):C=f.replace(this.rules.other.tabCharGlobal,"    "),k.test(f)||_.test(f)||x.test(f)||m.test(f)||b.test(f))break;if(C.search(this.rules.other.nonSpaceChar)>=p||!f.trim())u+=`
`+C.slice(p);else{if(h||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||k.test(d)||_.test(d)||b.test(d))break;u+=`
`+f}!h&&!f.trim()&&(h=!0),a+=T+`
`,e=e.substring(T.length+1),d=C.slice(p)}}i.loose||(o?i.loose=!0:this.rules.other.doubleBlankLine.test(a)&&(o=!0));let g=null,w;this.options.gfm&&(g=this.rules.other.listIsTask.exec(u),g&&(w=g[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:a,task:!!g,checked:w,loose:!1,text:u,tokens:[]}),i.raw+=a}const l=i.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let c=0;c<i.items.length;c++)if(this.lexer.state.top=!1,i.items[c].tokens=this.lexer.blockTokens(i.items[c].text,[]),!i.loose){const a=i.items[c].tokens.filter(d=>d.type==="space"),u=a.length>0&&a.some(d=>this.rules.other.anyLine.test(d.raw));i.loose=u}if(i.loose)for(let c=0;c<i.items.length;c++)i.items[c].loose=!0;return i}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:i}}}table(e){var o;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const n=Fr(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(o=t[3])!=null&&o.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const l of r)this.rules.other.tableAlignRight.test(l)?s.align.push("right"):this.rules.other.tableAlignCenter.test(l)?s.align.push("center"):this.rules.other.tableAlignLeft.test(l)?s.align.push("left"):s.align.push(null);for(let l=0;l<n.length;l++)s.header.push({text:n[l],tokens:this.lexer.inline(n[l]),header:!0,align:s.align[l]});for(const l of i)s.rows.push(Fr(l,s.header.length).map((c,a)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:s.align[a]})));return s}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const s=mt(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{const s=lo(t[2],"()");if(s===-2)return;if(s>-1){const l=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let r=t[2],i="";if(this.options.pedantic){const s=this.rules.other.pedanticHrefTitle.exec(r);s&&(r=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),Vr(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=t[r.toLowerCase()];if(!i){const s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return Vr(n,i,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const s=[...r[0]].length-1;let o,l,c=s,a=0;const u=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+s);(r=u.exec(t))!=null;){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(l=[...o].length,r[3]||r[4]){c+=l;continue}else if((r[5]||r[6])&&s%3&&!((s+l)%3)){a+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+a);const d=[...r[0]][0].length,f=e.slice(0,s+r.index+d+l);if(Math.min(s,l)%2){const p=f.slice(1,-1);return{type:"em",raw:f,text:p,tokens:this.lexer.inlineTokens(p)}}const h=f.slice(2,-2);return{type:"strong",raw:f,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," ");const r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]==="@"?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let t;if(t=this.rules.inline.url.exec(e)){let r,i;if(t[2]==="@")r=t[0],i="mailto:"+r;else{let s;do s=t[0],t[0]=((n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])??"";while(s!==t[0]);r=t[0],t[1]==="www."?i="http://"+t[0]:i=t[0]}return{type:"link",raw:t[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},ze=class Bn{constructor(t){q(this,"tokens");q(this,"options");q(this,"state");q(this,"tokenizer");q(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||et,this.options.tokenizer=this.options.tokenizer||new ln,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:ie,block:Ut.normal,inline:wt.normal};this.options.pedantic?(n.block=Ut.pedantic,n.inline=wt.pedantic):this.options.gfm&&(n.block=Ut.gfm,this.options.breaks?n.inline=wt.breaks:n.inline=wt.gfm),this.tokenizer.rules=n}static get rules(){return{block:Ut,inline:wt}}static lex(t,n){return new Bn(n).lex(t)}static lexInline(t,n){return new Bn(n).inlineTokens(t)}lex(t){t=t.replace(ie.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],r=!1){var i,s,o;for(this.options.pedantic&&(t=t.replace(ie.tabCharGlobal,"    ").replace(ie.spaceLine,""));t;){let l;if((s=(i=this.options.extensions)==null?void 0:i.block)!=null&&s.some(a=>(l=a.call({lexer:this},t,n))?(t=t.substring(l.raw.length),n.push(l),!0):!1))continue;if(l=this.tokenizer.space(t)){t=t.substring(l.raw.length);const a=n.at(-1);l.raw.length===1&&a!==void 0?a.raw+=`
`:n.push(l);continue}if(l=this.tokenizer.code(t)){t=t.substring(l.raw.length);const a=n.at(-1);(a==null?void 0:a.type)==="paragraph"||(a==null?void 0:a.type)==="text"?(a.raw+=`
`+l.raw,a.text+=`
`+l.text,this.inlineQueue.at(-1).src=a.text):n.push(l);continue}if(l=this.tokenizer.fences(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.heading(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.hr(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.blockquote(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.list(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.html(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.def(t)){t=t.substring(l.raw.length);const a=n.at(-1);(a==null?void 0:a.type)==="paragraph"||(a==null?void 0:a.type)==="text"?(a.raw+=`
`+l.raw,a.text+=`
`+l.raw,this.inlineQueue.at(-1).src=a.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.lheading(t)){t=t.substring(l.raw.length),n.push(l);continue}let c=t;if((o=this.options.extensions)!=null&&o.startBlock){let a=1/0;const u=t.slice(1);let d;this.options.extensions.startBlock.forEach(f=>{d=f.call({lexer:this},u),typeof d=="number"&&d>=0&&(a=Math.min(a,d))}),a<1/0&&a>=0&&(c=t.substring(0,a+1))}if(this.state.top&&(l=this.tokenizer.paragraph(c))){const a=n.at(-1);r&&(a==null?void 0:a.type)==="paragraph"?(a.raw+=`
`+l.raw,a.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):n.push(l),r=c.length!==t.length,t=t.substring(l.raw.length);continue}if(l=this.tokenizer.text(t)){t=t.substring(l.raw.length);const a=n.at(-1);(a==null?void 0:a.type)==="text"?(a.raw+=`
`+l.raw,a.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):n.push(l);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){var l,c,a;let r=t,i=null;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)u.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,o="";for(;t;){s||(o=""),s=!1;let u;if((c=(l=this.options.extensions)==null?void 0:l.inline)!=null&&c.some(f=>(u=f.call({lexer:this},t,n))?(t=t.substring(u.raw.length),n.push(u),!0):!1))continue;if(u=this.tokenizer.escape(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.tag(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.link(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(u.raw.length);const f=n.at(-1);u.type==="text"&&(f==null?void 0:f.type)==="text"?(f.raw+=u.raw,f.text+=u.text):n.push(u);continue}if(u=this.tokenizer.emStrong(t,r,o)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.codespan(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.br(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.del(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.autolink(t)){t=t.substring(u.raw.length),n.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(t))){t=t.substring(u.raw.length),n.push(u);continue}let d=t;if((a=this.options.extensions)!=null&&a.startInline){let f=1/0;const h=t.slice(1);let p;this.options.extensions.startInline.forEach(g=>{p=g.call({lexer:this},h),typeof p=="number"&&p>=0&&(f=Math.min(f,p))}),f<1/0&&f>=0&&(d=t.substring(0,f+1))}if(u=this.tokenizer.inlineText(d)){t=t.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(o=u.raw.slice(-1)),s=!0;const f=n.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=u.raw,f.text+=u.text):n.push(u);continue}if(t){const f="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return n}},on=class{constructor(e){q(this,"options");q(this,"parser");this.options=e||et}space(e){return""}code({text:e,lang:t,escaped:n}){var s;const r=(s=(t||"").match(ie.notSpaceStart))==null?void 0:s[0],i=e.replace(ie.endingNewline,"")+`
`;return r?'<pre><code class="language-'+Te(r)+'">'+(n?i:Te(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:Te(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,n=e.start;let r="";for(let o=0;o<e.items.length;o++){const l=e.items[o];r+=this.listitem(l)}const i=t?"ol":"ul",s=t&&n!==1?' start="'+n+'"':"";return"<"+i+s+`>
`+r+"</"+i+`>
`}listitem(e){var n;let t="";if(e.task){const r=this.checkbox({checked:!!e.checked});e.loose?((n=e.tokens[0])==null?void 0:n.type)==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+Te(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):t+=r+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let i=0;i<e.header.length;i++)n+=this.tablecell(e.header[i]);t+=this.tablerow({text:n});let r="";for(let i=0;i<e.rows.length;i++){const s=e.rows[i];n="";for(let o=0;o<s.length;o++)n+=this.tablecell(s[o]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Te(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const r=this.parser.parseInline(n),i=jr(e);if(i===null)return r;e=i;let s='<a href="'+e+'"';return t&&(s+=' title="'+Te(t)+'"'),s+=">"+r+"</a>",s}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));const i=jr(e);if(i===null)return Te(n);e=i;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${Te(t)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Te(e.text)}},hr=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},Be=class Dn{constructor(t){q(this,"options");q(this,"renderer");q(this,"textRenderer");this.options=t||et,this.options.renderer=this.options.renderer||new on,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new hr}static parse(t,n){return new Dn(n).parse(t)}static parseInline(t,n){return new Dn(n).parseInline(t)}parse(t,n=!0){var i,s;let r="";for(let o=0;o<t.length;o++){const l=t[o];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[l.type]){const a=l,u=this.options.extensions.renderers[a.type].call({parser:this},a);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){r+=u||"";continue}}const c=l;switch(c.type){case"space":{r+=this.renderer.space(c);continue}case"hr":{r+=this.renderer.hr(c);continue}case"heading":{r+=this.renderer.heading(c);continue}case"code":{r+=this.renderer.code(c);continue}case"table":{r+=this.renderer.table(c);continue}case"blockquote":{r+=this.renderer.blockquote(c);continue}case"list":{r+=this.renderer.list(c);continue}case"html":{r+=this.renderer.html(c);continue}case"paragraph":{r+=this.renderer.paragraph(c);continue}case"text":{let a=c,u=this.renderer.text(a);for(;o+1<t.length&&t[o+1].type==="text";)a=t[++o],u+=`
`+this.renderer.text(a);n?r+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):r+=u;continue}default:{const a='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}parseInline(t,n=this.renderer){var i,s;let r="";for(let o=0;o<t.length;o++){const l=t[o];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[l.type]){const a=this.options.extensions.renderers[l.type].call({parser:this},l);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){r+=a||"";continue}}const c=l;switch(c.type){case"escape":{r+=n.text(c);break}case"html":{r+=n.html(c);break}case"link":{r+=n.link(c);break}case"image":{r+=n.image(c);break}case"strong":{r+=n.strong(c);break}case"em":{r+=n.em(c);break}case"codespan":{r+=n.codespan(c);break}case"br":{r+=n.br(c);break}case"del":{r+=n.del(c);break}case"text":{r+=n.text(c);break}default:{const a='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}},Sn,Wt=(Sn=class{constructor(e){q(this,"options");q(this,"block");this.options=e||et}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?ze.lex:ze.lexInline}provideParser(){return this.block?Be.parse:Be.parseInline}},q(Sn,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),Sn),co=class{constructor(...e){q(this,"defaults",ir());q(this,"options",this.setOptions);q(this,"parse",this.parseMarkdown(!0));q(this,"parseInline",this.parseMarkdown(!1));q(this,"Parser",Be);q(this,"Renderer",on);q(this,"TextRenderer",hr);q(this,"Lexer",ze);q(this,"Tokenizer",ln);q(this,"Hooks",Wt);this.use(...e)}walkTokens(e,t){var r,i;let n=[];for(const s of e)switch(n=n.concat(t.call(this,s)),s.type){case"table":{const o=s;for(const l of o.header)n=n.concat(this.walkTokens(l.tokens,t));for(const l of o.rows)for(const c of l)n=n.concat(this.walkTokens(c.tokens,t));break}case"list":{const o=s;n=n.concat(this.walkTokens(o.items,t));break}default:{const o=s;(i=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&i[o.type]?this.defaults.extensions.childTokens[o.type].forEach(l=>{const c=o[l].flat(1/0);n=n.concat(this.walkTokens(c,t))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const s=t.renderers[i.name];s?t.renderers[i.name]=function(...o){let l=i.renderer.apply(this,o);return l===!1&&(l=s.apply(this,o)),l}:t.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=t[i.level];s?s.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),r.extensions=t),n.renderer){const i=this.defaults.renderer||new on(this.defaults);for(const s in n.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const o=s,l=n.renderer[o],c=i[o];i[o]=(...a)=>{let u=l.apply(i,a);return u===!1&&(u=c.apply(i,a)),u||""}}r.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new ln(this.defaults);for(const s in n.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const o=s,l=n.tokenizer[o],c=i[o];i[o]=(...a)=>{let u=l.apply(i,a);return u===!1&&(u=c.apply(i,a)),u}}r.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new Wt;for(const s in n.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;const o=s,l=n.hooks[o],c=i[o];Wt.passThroughHooks.has(s)?i[o]=a=>{if(this.defaults.async)return Promise.resolve(l.call(i,a)).then(d=>c.call(i,d));const u=l.call(i,a);return c.call(i,u)}:i[o]=(...a)=>{let u=l.apply(i,a);return u===!1&&(u=c.apply(i,a)),u}}r.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,s=n.walkTokens;r.walkTokens=function(o){let l=[];return l.push(s.call(this,o)),i&&(l=l.concat(i.call(this,o))),l}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return ze.lex(e,t??this.defaults)}parser(e,t){return Be.parse(e,t??this.defaults)}parseMarkdown(e){return(n,r)=>{const i={...r},s={...this.defaults,...i},o=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=e);const l=s.hooks?s.hooks.provideLexer():e?ze.lex:ze.lexInline,c=s.hooks?s.hooks.provideParser():e?Be.parse:Be.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(n):n).then(a=>l(a,s)).then(a=>s.hooks?s.hooks.processAllTokens(a):a).then(a=>s.walkTokens?Promise.all(this.walkTokens(a,s.walkTokens)).then(()=>a):a).then(a=>c(a,s)).then(a=>s.hooks?s.hooks.postprocess(a):a).catch(o);try{s.hooks&&(n=s.hooks.preprocess(n));let a=l(n,s);s.hooks&&(a=s.hooks.processAllTokens(a)),s.walkTokens&&this.walkTokens(a,s.walkTokens);let u=c(a,s);return s.hooks&&(u=s.hooks.postprocess(u)),u}catch(a){return o(a)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const r="<p>An error occurred:</p><pre>"+Te(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}},Ye=new co;function z(e,t){return Ye.parse(e,t)}z.options=z.setOptions=function(e){return Ye.setOptions(e),z.defaults=Ye.defaults,Hi(z.defaults),z};z.getDefaults=ir;z.defaults=et;z.use=function(...e){return Ye.use(...e),z.defaults=Ye.defaults,Hi(z.defaults),z};z.walkTokens=function(e,t){return Ye.walkTokens(e,t)};z.parseInline=Ye.parseInline;z.Parser=Be;z.parser=Be.parse;z.Renderer=on;z.TextRenderer=hr;z.Lexer=ze;z.lexer=ze.lex;z.Tokenizer=ln;z.Hooks=Wt;z.parse=z;z.options;z.setOptions;z.use;z.walkTokens;z.parseInline;Be.parse;ze.lex;var uo=N('<div><p class="text-white text-balance wrap-anywhere"> </p></div>'),fo=ft('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="flex-shrink-0" viewBox="0 0 16 16"><path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"></path></svg>'),ho=ft('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="flex-shrink-0" viewBox="0 0 16 16"><path d="m14.12 10.163 1.715.858c.22.11.22.424 0 .534L8.267 15.34a.6.6 0 0 1-.534 0L.165 11.555a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0l5.317-2.66zM7.733.063a.6.6 0 0 1 .534 0l7.568 3.784a.3.3 0 0 1 0 .535L8.267 8.165a.6.6 0 0 1-.534 0L.165 4.382a.299.299 0 0 1 0-.535z"></path><path d="m14.12 6.576 1.715.858c.22.11.22.424 0 .534l-7.568 3.784a.6.6 0 0 1-.534 0L.165 7.968a.299.299 0 0 1 0-.534l1.716-.858 5.317 2.659c.505.252 1.1.252 1.604 0z"></path></svg>'),po=N('<div><!> <span class="text-sm truncate"> </span></div>'),vo=(e,t)=>t(),go=N('<button aria-label="Share points" class="text-white/70 hover:text-[#6ebc27] transition-colors p-1 rounded hover:bg-white/5" title="Share points"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" viewBox="0 0 16 16"><path d="M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.5 2.5 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5m-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3m11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3"></path></svg></button>'),bo=(e,t,n)=>t(n()),wo=ft('<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="text-green-400" viewBox="0 0 16 16"><path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"></path></svg>'),mo=ft('<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1z"></path><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0z"></path></svg>'),_o=N('<div class="mt-4 pt-4 border-t border-[#61606b]/30"><div class="flex items-start gap-3"><div class="flex-1 w-full"><div class="flex items-center justify-between mb-2"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="text-[#50faec]" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path><path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path></svg> <h4 class="text-[#50faec] font-semibold text-sm flex items-center gap-2"><span>Final Response</span> <div class="h-px bg-gradient-to-r from-[#50faec]/50 to-transparent flex-1"></div></h4> <div class="flex items-center gap-2"><!> <button class="text-white/70 hover:text-[#50faec] transition-colors p-1 rounded hover:bg-white/5" title="Copy to clipboard"><!></button></div></div> <div class="text-white/90 text-sm leading-relaxed bg-black/30 rounded-lg p-4 border border-[#50faec]/20 shadow-lg"><div class="prose prose-sm prose-invert max-w-none"><pre class="whitespace-pre-wrap font-sans text-white/90 bg-transparent p-0 m-0 border-0 text-balance wrap-anywhere"></pre></div></div></div></div></div>'),xo=N('<div><div class="flex flex-col overflow-y-auto flex-1 pr-2 scrollbar-thin scrollbar-thumb-[#61606b]/50 scrollbar-track-transparent"></div> <!></div>'),ko=N("<!> <!>",1);function Ur(e,t){Le(t,!0);const n=re(t,"content",3,void 0),r=re(t,"aiSteps",19,()=>[]),i=re(t,"finalMessage",3,void 0),s=re(t,"active",3,!1);let o=I(!1),l=I(void 0),c=I(void 0),a=I(void 0),u=I(0),d=I(!0),f=I("");async function h(C){try{await navigator.clipboard.writeText(C),S(o,!0),setTimeout(()=>{S(o,!1)},2e3)}catch(A){console.error("Failed to copy: ",A)}}async function p(){if(!v(f))return;let C=v(f).split(`
`).map(W=>W.trim()).filter(W=>W).join(";");C=C.replaceAll("-","");const A=await fetch(`https://ws-acid.swiftalchemist.com/share/img?points=${C}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!A.ok){console.error("Failed to fetch image URL");return}const F=(await A.json()).img,O=encodeURI(`https://www.x.com/intent/tweet?text=$ACID just did this for me

&url=${F}`);window.open(O,"_blank")}xt(()=>{if(r().length>v(u)&&t.messageType==="ai"&&v(u)>0&&m(),i()&&r().some(C=>C==="Done")&&m(),i()&&v(l)){const C=/<points>([\s\S]*?)<\/points>/g;let A=i(),F="",O;for(;(O=C.exec(i()))!==null;)F+=O[1].trim()+`
`,A=A.replace(O[0],"").replace("<points>","").replace("</points>","");A=A.trim(),S(f,F.trim(),!0),v(l).innerHTML=z(A,{async:!1,gfm:!0,renderer:new z.Renderer})}S(u,r().length,!0)});function g(){return v(a)?v(a).scrollHeight-v(a).scrollTop-v(a).clientHeight<=50:!0}function w(){S(d,g(),!0)}async function m(){!v(a)||!v(d)||(await ra(),v(a).scrollTop=v(a).scrollHeight)}var b=ko(),k=We(b);{var _=C=>{var A=uo(),F=y(A),O=y(F);Q(()=>{Ne(A,1,`bg-white/10 w-full min-h-[70px] mt-5 p-4 rounded-lg flex flex-col items-start border-[#61606b]/50 border-2 ${s()?"border-[#61606b]/10":""}`),be(O,n())}),Ze(1,A,()=>Ge,()=>({y:10,duration:300})),R(C,A)};V(k,C=>{t.messageType==="user"&&C(_)})}var x=L(k,2);{var T=C=>{var A=xo(),F=y(A);Et(F,21,r,Mn,(U,Y,me)=>{var ae=po(),de=y(ae);{var Se=P=>{var Z=fo();R(P,Z)},E=P=>{var Z=ho();R(P,Z)};V(de,P=>{v(Y)==="Done"?P(Se):P(E,!1)})}var j=L(de,2),$=y(j);Q(()=>{Ne(ae,1,`flex items-center gap-2 mb-2 text-[#6ebc27] ${v(Y)==="Done"?"text-[#50faec]":""}`),be($,v(Y))}),Ze(1,ae,()=>Ge,()=>({x:-20,duration:300,delay:me*50})),R(U,ae)}),it(F,U=>S(a,U),()=>v(a)),it(F,U=>S(c,U),()=>v(c));var O=L(F,2);{var W=U=>{var Y=_o(),me=y(Y),ae=y(me),de=y(ae),Se=L(y(de),4),E=y(Se);{var j=K=>{var $e=go();$e.__click=[vo,p],R(K,$e)};V(E,K=>{v(f)&&K(j)})}var $=L(E,2);$.__click=[bo,h,i];var P=y($);{var Z=K=>{var $e=wo();R(K,$e)},pe=K=>{var $e=mo();R(K,$e)};V(P,K=>{v(o)?K(Z):K(pe,!1)})}var _e=L(de,2),ve=y(_e),ht=y(ve);it(ht,K=>S(l,K),()=>v(l)),Ze(1,Y,()=>Ge,()=>({y:20,duration:400,delay:300})),R(U,Y)};V(O,U=>{i()&&i().trim()&&r().some(Y=>Y==="Done")&&U(W)})}Q(()=>Ne(A,1,`bg-white/10 w-full ${i()?"min-h-[200px]":"h-[200px]"} mt-5 p-4 rounded-lg flex flex-col border-[#61606b]/50 border-2 ${s()?"border-[#61606b]/10":""}`)),Rn("scroll",F,w),Ze(1,A,()=>Ge,()=>({y:10,duration:300})),R(C,A)};V(x,C=>{t.messageType==="ai"&&C(T)})}R(e,b),Me()}Ot(["click"]);var yo=N('<div class="flex items-center justify-center h-32"><svg class="animate-spin h-6 w-6 text-white/50" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div>'),So=N('<div class="flex flex-col items-center justify-center h-32 text-white/50"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="mb-3" viewBox="0 0 16 16"><path d="M2.678 11.894a1 1 0 0 1 .287.801 11 11 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8 8 0 0 0 8 14c3.996 0 7-2.807 7-6s-3.004-6-7-6-7 2.808-7 6c0 1.468.617 2.83 1.678 3.894m-.493 3.905a22 22 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a10 10 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9 9 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105"></path></svg> <p class="text-center">No chat history yet</p> <p class="text-sm text-white/30 mt-1">Start a conversation to see it here</p></div>'),To=(e,t,n)=>t.onChatSelect(v(n).id),Ao=(e,t,n)=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),t.onChatSelect(v(n).id))},Co=N("<span> </span>"),Eo=(e,t,n)=>t(v(n).id,e),Ro=N('<div role="button" tabindex="0" class="group bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 rounded-lg p-4 cursor-pointer transition-all duration-200"><div class="flex items-start justify-between"><div class="flex-1 min-w-0"><h3 class="font-medium text-white group-hover:text-[#a2fa50] transition-colors truncate"> </h3> <p class="text-sm text-white/60 mt-1 line-clamp-2 svelte-htk24u"> </p> <div class="flex items-center gap-4 mt-2 text-xs text-white/40"><span> </span> <!></div></div> <button aria-label="Delete chat" class="opacity-0 group-hover:opacity-100 text-red-400 hover:text-red-300 p-1 transition-all"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" viewBox="0 0 16 16"><path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"></path><path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"></path></svg></button></div></div>'),Lo=N('<div class="flex-1 overflow-y-auto space-y-2"></div>'),Mo=N('<div class="text-white flex flex-col h-[calc(100%-55px)] mt-10"><div class="flex items-center justify-between mb-6"><div class="flex items-center gap-3"><button aria-label="Back to chat" class="text-white/70 hover:text-white transition-colors"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"></path></svg></button> <h1 class="text-xl font-semibold">Chat History</h1></div> <button aria-label="New chat" class="bg-[#a2fa50]/20 hover:bg-[#a2fa50]/30 text-[#a2fa50] px-3 py-1.5 rounded-lg transition-colors text-sm font-medium">New Chat</button></div> <!></div>');function Io(e,t){Le(t,!0);let n=I(ne([])),r=I(!0);$t(async()=>{await i(),S(r,!1)});async function i(){try{const m=await ee.storage.local.get("chats");S(n,(m.chats||[]).sort((b,k)=>(k.timestamp||0)-(b.timestamp||0)),!0)}catch(m){console.error("Error loading chats:",m),S(n,[],!0)}}async function s(m,b){if(b.stopPropagation(),!!confirm("Are you sure you want to delete this chat?"))try{const x=((await ee.storage.local.get("chats")).chats||[]).filter(T=>T.id!==m);await ee.storage.local.set({chats:x}),await i()}catch(k){console.error("Error deleting chat:",k)}}function o(m){if(!m)return"Unknown date";const b=new Date(m),_=new Date().getTime()-b.getTime(),x=Math.floor(_/(1e3*60*60*24));return x===0?b.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):x===1?"Yesterday":x<7?`${x} days ago`:b.toLocaleDateString()}function l(m){if(m.messages&&m.messages.length>0){const b=m.messages[m.messages.length-1];return b.length>60?b.substring(0,60)+"...":b}return"No messages"}function c(m){if(m.messages&&m.messages.length>0){const b=m.messages[0];return b.length>30?b.substring(0,30)+"...":b}return"Empty Chat"}var a=Mo(),u=y(a),d=y(u),f=y(d);f.__click=function(...m){var b;(b=t.onBackToChat)==null||b.apply(this,m)};var h=L(d,2);h.__click=function(...m){var b;(b=t.onNewChat)==null||b.apply(this,m)};var p=L(u,2);{var g=m=>{var b=yo();R(m,b)},w=(m,b)=>{{var k=x=>{var T=So();R(x,T)},_=x=>{var T=Lo();Et(T,23,()=>v(n),C=>C.id,(C,A,F)=>{var O=Ro();O.__click=[To,t,A],O.__keydown=[Ao,t,A];var W=y(O),U=y(W),Y=y(U),me=y(Y),ae=L(Y,2),de=y(ae),Se=L(ae,2),E=y(Se),j=y(E),$=L(E,2);{var P=pe=>{var _e=Co(),ve=y(_e);Q(()=>be(ve,`${v(A).messages.length??""} message${v(A).messages.length!==1?"s":""}`)),R(pe,_e)};V($,pe=>{v(A).messages&&pe(P)})}var Z=L(U,2);Z.__click=[Eo,s,A],Q((pe,_e,ve)=>{be(me,pe),be(de,_e),be(j,ve)},[()=>c(v(A)),()=>l(v(A)),()=>o(v(A).timestamp)]),Ze(1,O,()=>Ge,()=>({y:20,duration:300,delay:v(F)*50})),R(C,O)}),R(x,T)};V(m,x=>{v(n).length===0?x(k):x(_,!1)},b)}};V(p,m=>{v(r)?m(g):m(w,!1)})}R(e,a),Me()}Ot(["click","keydown"]);var Po=(e,t)=>t("cautious"),zo=(e,t)=>t("confident"),Bo=N('<div class="text-white h-full flex flex-col"><div class="flex items-center justify-between mb-6"><div class="flex items-center gap-3"><button aria-label="Back to chat" class="text-white/70 hover:text-white transition-colors p-1"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"></path></svg></button> <h1 class="text-xl font-bold">Settings</h1></div></div> <div class="flex-1 space-y-6"><div class="bg-white/10 rounded-lg p-4 border border-white/20"><h2 class="text-lg font-semibold mb-3">AI Confidentiality Level</h2> <p class="text-white/70 text-sm mb-4">Choose how the AI should handle confirmations before executing actions.</p> <div class="space-y-3"><label><input type="radio" name="confidentiality" value="cautious" class="mt-1 accent-[#a2fa50] bg-transparent border-white/30 focus:ring-0"/> <div class="flex-1"><div class="font-medium text-white">Cautious</div> <div class="text-sm text-white/70 mt-1">Confirms every step before executing. Maximum safety and control.</div></div></label> <label><input type="radio" name="confidentiality" value="confident" class="mt-1 accent-[#a2fa50] bg-transparent border-white/30 focus:ring-0"/> <div class="flex-1"><div class="font-medium text-white">Confident</div> <div class="text-sm text-white/70 mt-1">Confirms only critical actions. Faster execution with intelligent safeguards.</div></div></label></div></div> <div class="bg-[#a2fa50]/10 rounded-lg p-4 border border-[#a2fa50]/30"><div class="flex items-center gap-2 mb-2"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="text-[#a2fa50]" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path><path d="m10.97 4.97-.02.022-3.473 4.425-2.093-2.094a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05"></path></svg> <span class="text-sm font-medium text-[#a2fa50]">Current Setting</span></div> <p class="text-white">AI is set to <span class="font-semibold capitalize text-[#a2fa50]"> </span> mode</p></div> <div class="bg-white/5 rounded-lg p-4 border border-white/10"><div class="flex items-center gap-2 mb-2"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="text-white/70" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"></path><path d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"></path></svg> <span class="text-sm font-medium text-white/70">Coming Soon</span></div> <p class="text-white/60 text-sm">More customization options and advanced settings will be added in future updates. Stay tuned for enhanced personalization features!</p></div></div></div>');function Do(e,t){Le(t,!0);let n=I(ne({confidentialityLevel:"cautious"}));$t(async()=>{await r()});async function r(){try{const _=await ee.storage.local.get("userSettings");_.userSettings&&S(n,{...v(n),..._.userSettings},!0)}catch(_){console.error("Error loading settings:",_)}}async function i(_){v(n).confidentialityLevel=_;try{await ee.storage.local.set({userSettings:v(n)})}catch(x){console.error("Error saving settings:",x)}}var s=Bo(),o=y(s),l=y(o),c=y(l);c.__click=function(..._){var x;(x=t.onBackToChat)==null||x.apply(this,_)};var a=L(o,2),u=y(a),d=L(y(u),4),f=y(d),h=y(f);h.__change=[Po,i];var p=L(f,2),g=y(p);g.__change=[zo,i];var w=L(u,2),m=L(y(w),2),b=L(y(m)),k=y(b);Q(()=>{Ne(f,1,`flex items-start gap-3 cursor-pointer p-3 rounded-lg border border-white/10 hover:bg-white/5 transition-colors ${v(n).confidentialityLevel==="cautious"?"bg-white/10 border-[#a2fa50]/50":""}`),Lr(h,v(n).confidentialityLevel==="cautious"),Ne(p,1,`flex items-start gap-3 cursor-pointer p-3 rounded-lg border border-white/10 hover:bg-white/5 transition-colors ${v(n).confidentialityLevel==="confident"?"bg-white/10 border-[#a2fa50]/50":""}`),Lr(g,v(n).confidentialityLevel==="confident"),be(k,v(n).confidentialityLevel)}),R(e,s),Me()}Ot(["click","change"]);var Rt,Lt,Mt,It;class No{constructor(){q(this,"listeners",new Map);gt(this,Rt,I(0));gt(this,Lt,I(ne([[]])));gt(this,Mt,I(ne([])));gt(this,It,I(!1));this.setupMessageListener(),this.getSocketStatus()}get index(){return v(Ie(this,Rt))}set index(t){S(Ie(this,Rt),t,!0)}get status(){return v(Ie(this,Lt))}set status(t){S(Ie(this,Lt),t,!0)}get finalMessages(){return v(Ie(this,Mt))}set finalMessages(t){S(Ie(this,Mt),t,!0)}get connected(){return v(Ie(this,It))}set connected(t){S(Ie(this,It),t,!0)}setupMessageListener(){ee.runtime.onMessage.addListener(t=>{t.from==="background"&&this.handleBackgroundMessage(t)})}async sendPrompt(t,n,r=[]){let i;try{i=(await ee.storage.local.get("userSettings")).userSettings||{confidentialityLevel:"cautious"}}catch(o){console.error("Error loading settings:",o),i={confidentialityLevel:"cautious"}}let s=[];if(r.length>0){console.log("Processing files:",r);try{s=await Promise.all(r.map(async o=>{const l=await this.fileToBase64(o);return{name:o.name,type:o.type,size:o.size,data:l}}))}catch(o){console.error("Error processing files:",o),s=[]}}this.index>=this.status.length&&this.status.push([]),this.emit("start_task",{prompt:t,prev:n,files:s,user_settings:i})}fileToBase64(t){return new Promise((n,r)=>{const i=new FileReader;i.onload=()=>{const o=i.result.split(",")[1];n(o)},i.onerror=r,i.readAsDataURL(t)})}handleBackgroundMessage(t){switch(t.type){case"socket_connected":this.connected=!0,this.emit("connect");break;case"socket_disconnected":this.connected=!1,this.emit("disconnect",t.reason);break;case"update_status":this.index>=this.status.length&&this.status.push([]),this.status[this.index].push(t.data.status);break;case"task_finished":if(this.index>=this.status.length&&this.status.push([]),this.status[this.index].push("Done"),t.data&&t.data.final_message){for(;this.finalMessages.length<=this.index;)this.finalMessages.push("");this.finalMessages[this.index]=t.data.final_message}this.index++;break}}async getSocketStatus(){const t=await ee.runtime.sendMessage({to:"background",action:"get_socket_status"});this.connected=t.connected}on(t,n){this.listeners.set(t,n)}emit(t,n){const r=this.listeners.get(t);r&&r(n),t!=="connect"&&t!=="disconnect"&&ee.runtime.sendMessage({to:"background",action:"socket_emit",event:t,data:n})}async connect(){return(await ee.runtime.sendMessage({to:"background",action:"connect_socket"})).success}async disconnect(){try{const t=await ee.runtime.sendMessage({to:"background",action:"disconnect_socket"});return this.connected=!1,t.success}catch(t){return console.error("Error disconnecting socket:",t),this.connected=!1,!1}}get isConnected(){return this.connected}set isConnected(t){this.connected=t}async offAny(){this.listeners.clear(),this.connected&&await this.disconnect()}}Rt=new WeakMap,Lt=new WeakMap,Mt=new WeakMap,It=new WeakMap;const M=new No;function Oo(e,t){const n=e.target;n.files&&(S(t,Array.from(n.files).filter(r=>r.type==="application/pdf"||r.name.toLowerCase().endsWith(".pdf")),!0),n.files.length>v(t).length&&alert("Only PDF files are allowed"))}function Zr(e,t){var n;(n=v(t))==null||n.click()}function $o(e,t){S(t,"history")}function qo(e,t){S(t,"settings")}var Ho=N('<div class="flex items-center justify-between bg-black/20 rounded p-2"><div class="flex items-center gap-2"><svg class="w-4 h-4 text-red-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd"></path></svg> <span class="text-sm text-white truncate"> </span> <span class="text-xs text-white/50"> </span></div> <button aria-label="Remove file" class="text-red-400 hover:text-red-300 p-1"><svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div>'),jo=N('<div class="w-full mt-3 p-3 bg-white/10 rounded-lg border-2 border-[#61606b]/50"><div class="flex items-center justify-between mb-2"><span class="text-sm text-white/70"> </span> <button class="text-xs text-[#b7fb84] hover:text-[#a2fa50] transition-colors">Add More</button></div> <div class="space-y-2"></div></div>'),Fo=(e,t,n)=>{e.key==="Enter"&&!v(t)&&n()},Vo=ft('<svg class="animate-spin h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>'),Uo=ft('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up-short" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 12a.5.5 0 0 0 .5-.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 .5.5"></path></svg>'),Zo=N("<div><!></div> <div><!></div>",1),Go=N(`<section class="text-white flex flex-col items-center h-[calc(100%-55px)] mt-10"><h1 class="text-2xl">Hi, I'm <span class="text-[#7B3FE4]">Pathway</span>!</h1> <h2 class="text-2xl">Your Browser Assistant.</h2> <input type="file" accept=".pdf,application/pdf" multiple class="hidden"/> <!> <div class="flex flex-col items-end mt-5 border-[#61606b]/50 border-2 rounded-lg bg-white/10 w-full min-h-[90px] p-4"><div class="flex items-center gap-2 w-full mb-2"><button aria-label="Attach PDF files" class="text-white/70 hover:text-white transition-colors p-1" title="Attach PDF files"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z" clip-rule="evenodd"></path></svg></button> <input type="text" placeholder="Ask Pathway to help you on anything..." class="w-full h-full bg-transparent text-white outline-none resize-none placeholder:text-white/70 truncate disabled:opacity-50"/></div> <button aria-label="Send message" class="mt-2 bg-white/10 text-white rounded-full p-1 disabled:opacity-50 disabled:cursor-not-allowed transition-opacity"><!></button></div> <div class="w-full mt-5 overflow-y-auto max-h-[calc(100%-100px)] flex flex-col-reverse scroll-smooth"></div></section>`),Qo=N(`<div class="p-2 bg-[#414143] h-screen w-full"><main class="flex flex-col bg-[url('/bg.jpg')] bg-cover rounded-2xl h-full p-3"><!> <header class="w-full flex justify-between"><div class="from-[#a2fa50] to-[#cefda1] rounded-full px-2 py-1 flex items-center justify-center font-black text-[10px] h-fit bg-gradient-to-t">PRO Beta</div> <div class="flex items-center gap-2"><button aria-label="settings" class="h-4 w-4 text-white cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-full h-full" viewBox="0 0 16 16"><path d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"></path></svg></button> <button aria-label="history" title="Chat History" class="h-4 w-4 text-white cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clock-history" viewBox="0 0 16 16"><path d="M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022zm2.004.45a7 7 0 0 0-.985-.299l.219-.976q.576.129 1.126.342zm1.37.71a7 7 0 0 0-.439-.27l.493-.87a8 8 0 0 1 .979.654l-.615.789a7 7 0 0 0-.418-.302zm1.834 1.79a7 7 0 0 0-.653-.796l.724-.69q.406.429.747.91zm.744 1.352a7 7 0 0 0-.214-.468l.893-.45a8 8 0 0 1 .45 1.088l-.95.313a7 7 0 0 0-.179-.483m.53 2.507a7 7 0 0 0-.1-1.025l.985-.17q.1.58.116 1.17zm-.131 1.538q.05-.254.081-.51l.993.123a8 8 0 0 1-.23 1.155l-.964-.267q.069-.247.12-.501m-.952 2.379q.276-.436.486-.908l.914.405q-.24.54-.555 1.038zm-.964 1.205q.183-.183.35-.378l.758.653a8 8 0 0 1-.401.432z"></path><path d="M8 1a7 7 0 1 0 4.95 11.95l.707.707A8.001 8.001 0 1 1 8 0z"></path><path d="M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5"></path></svg></button> <label class="relative inline-flex items-center cursor-pointer"><input type="checkbox" class="sr-only peer"/> <div class="relative w-7 h-4 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-3 after:w-3 after:transition-all peer-checked:bg-[#a2fa50]"></div></label></div></header> <!></main></div>`);function Wo(e,t){Le(t,!0);let n=I(null),r=I(ne([])),i=I(!1),s=I(ne([])),o=I(null),l=I(null),c=I(ne(crypto.randomUUID())),a=I("default"),u=I(!1),d=X(()=>{if(!v(l))return!0;const E=50,j=-(v(l).scrollHeight-v(l).clientHeight);return v(l).scrollTop>=j-E});async function f(){M.isConnected?await M.disconnect():await M.connect()}function h(){v(l)&&(v(l).scrollTop=-(v(l).scrollHeight-v(l).clientHeight))}xt(()=>{if(v(r).length>0&&v(d)&&setTimeout(()=>h(),100),M.status&&M.status.length>0&&v(d)){const E=M.status[M.status.length-1];E&&E.length>0&&setTimeout(()=>h(),100)}}),xt(()=>{M.finalMessages&&M.finalMessages.length>0&&v(d)&&setTimeout(()=>h(),100)}),xt(()=>{v(u)||(v(r).length&&g(),M.finalMessages.length&&g(),M.status.length&&g())});async function p(E){S(u,!0);const $=((await ee.storage.local.get("chats")).chats||[]).find(P=>P.id===E);$?(console.log("Loading chat:",$),S(r,$.messages,!0),M.status=$.status||[],M.finalMessages=$.finalMessages||[],M.index=M.finalMessages.length,S(c,$.id,!0),S(d,!0),setTimeout(()=>h(),50)):console.error("Chat not found:",E),S(u,!1)}async function g(){const E=(await ee.storage.local.get("chats")).chats||[],j=E.findIndex(P=>P.id===v(c)),$={id:v(c),messages:wn(v(r)),status:wn(M.status),finalMessages:wn(M.finalMessages),timestamp:Date.now()};j>-1?E[j]=$:E.push($),await ee.storage.local.set({chats:E})}async function w(){if(!(!v(n)&&v(s).length===0||v(i))){S(i,!0);try{await M.sendPrompt(v(n)||"",x(),v(s)),v(r).push(v(n)||`${v(s).length} file(s) uploaded`),S(n,null),S(s,[],!0),S(d,!0),setTimeout(()=>h(),50)}catch(E){console.error("Error sending message:",E),alert("Error processing files. Please try again.")}finally{setTimeout(()=>{S(i,!1)},2e3)}}}function m(E){S(s,v(s).filter((j,$)=>$!==E),!0)}function b(E){p(E),S(a,"default")}function k(){S(r,[],!0),M.status=[],M.finalMessages=[],M.index=0,S(c,crypto.randomUUID(),!0),S(a,"default")}function _(){S(a,"default")}$t(async()=>{M.isConnected||await M.connect(),ee.runtime.onMessage.addListener(E=>{if(E.type==="notification"){if(fe.success(E.output||"Task completed successfully",{duration:3e3,position:"top-right"}),!E.action)return;const j=setInterval(()=>{v(i)||(S(n,E.action,!0),S(s,[],!0),clearInterval(j),w())},100)}else if(E.type==="research_token"){const j=setInterval(()=>{v(i)||(S(n,E.prompt,!0),S(s,[],!0),clearInterval(j),w())},100)}})}),Di(async()=>{await M.offAny()}),typeof window<"u"&&window.addEventListener("visibilitychange",async()=>{document.visibilityState==="visible"&&!M.isConnected&&(console.log("Reconnecting to background bridge..."),await M.connect()),S(u,!0),document.visibilityState==="hidden"&&M.isConnected&&(await M.disconnect(),M.index=0,M.status=[],M.finalMessages=[],S(r,[],!0),S(c,crypto.randomUUID(),!0)),S(u,!1)});function x(){const E=v(r).map((P,Z)=>({content:P,role:"user"})),j=M.finalMessages.map((P,Z)=>({content:P,role:"model"})),$=[];for(let P=0;P<Math.max(E.length,j.length);P++)E[P]&&$.push(E[P]),j[P]&&$.push(j[P]);return $}var T=Qo(),C=y(T),A=y(C);Al(A,{});var F=L(A,2),O=L(y(F),2),W=y(O);W.__click=[qo,a];var U=L(W,2);U.__click=[$o,a];var Y=L(U,2),me=y(Y);me.__click=f;var ae=L(F,2);{var de=E=>{var j=Go(),$=L(y(j),4);$.__change=[Oo,s],it($,G=>S(o,G),()=>v(o));var P=L($,2);{var Z=G=>{var qe=jo(),dt=y(qe),pt=y(dt),vt=y(pt),gn=L(pt,2);gn.__click=[Zr,o];var jt=L(dt,2);Et(jt,21,()=>v(s),Mn,(bn,pr,es)=>{var vr=Ho(),gr=y(vr),br=L(y(gr),2),ts=y(br),ns=L(br,2),rs=y(ns),is=L(gr,2);is.__click=()=>m(es),Q(ss=>{be(ts,v(pr).name),be(rs,`(${ss??""}KB)`)},[()=>Math.round(v(pr).size/1024)]),R(bn,vr)}),Q(()=>be(vt,`Selected Files (${v(s).length??""})`)),R(G,qe)};V(P,G=>{v(s).length>0&&G(Z)})}var pe=L(P,2),_e=y(pe),ve=y(_e);ve.__click=[Zr,o];var ht=L(ve,2);ht.__keydown=[Fo,i,w];var K=L(_e,2);K.__click=w;var $e=y(K);{var Xi=G=>{var qe=Vo();R(G,qe)},Ji=G=>{var qe=Uo();R(G,qe)};V($e,G=>{v(i)?G(Xi):G(Ji,!1)})}var dr=L(pe,2);Et(dr,21,()=>v(r),Mn,(G,qe,dt)=>{var pt=Zo(),vt=We(pt),gn=y(vt);Ur(gn,{messageType:"user",get content(){return v(qe)}});var jt=L(vt,2),bn=y(jt);Ur(bn,{messageType:"ai",get aiSteps(){return M.status[dt]},get finalMessage(){return M.finalMessages[dt]}}),Ze(1,vt,()=>Ge,()=>({y:30,duration:400,delay:100})),Ze(1,jt,()=>Ge,()=>({y:30,duration:400,delay:200})),R(G,pt)}),it(dr,G=>S(l,G),()=>v(l)),Q(()=>{ht.disabled=v(i),K.disabled=v(i)||!v(n)&&v(s).length===0}),Da(ht,()=>v(n),G=>S(n,G)),R(E,j)},Se=(E,j)=>{{var $=Z=>{Io(Z,{onChatSelect:b,onNewChat:k,onBackToChat:_})},P=(Z,pe)=>{{var _e=ve=>{Do(ve,{onBackToChat:_})};V(Z,ve=>{v(a)==="settings"&&ve(_e)},pe)}};V(E,Z=>{v(a)==="history"?Z($):Z(P,!1)},j)}};V(ae,E=>{v(a)==="default"?E(de):E(Se,!1)})}Na(me,()=>M.isConnected,E=>M.isConnected=E),R(e,T),Me()}Ot(["click","change","keydown"]);ga(Wo,{target:document.getElementById("app")});
